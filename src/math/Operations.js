import { numberRef, affected } from "fest/object";
import { Vector2D, vector2Ref } from "./Point2D";
import { Vector3D } from "./Point3D";
import { Vector4D } from "./Point4D";
// Utility functions for component integration
export const vectorFromArray = (arr) => {
    switch (arr.length) {
        case 2: return new Vector2D(arr[0], arr[1]);
        case 3: return new Vector3D(arr[0], arr[1], arr[2]);
        case 4: return new Vector4D(arr[0], arr[1], arr[2], arr[3]);
        default: throw new Error(`Unsupported vector dimension: ${arr.length}`);
    }
};
export const vectorToArray = (vec) => {
    if (vec instanceof Vector2D)
        return [vec.x, vec.y];
    if (vec instanceof Vector3D)
        return [vec.x, vec.y, vec.z];
    if (vec instanceof Vector4D)
        return [vec.x, vec.y, vec.z, vec.w];
    throw new Error("Unsupported vector type");
};
// Transform utilities for layout components
export const translate2D = (vec, tx, ty) => {
    return addVector2D(vec, new Vector2D(tx, ty));
};
export const scale2D = (vec, sx, sy = sx) => {
    return new Vector2D(operated([vec.x, sx], () => vec.x.value * sx.value), operated([vec.y, sy], () => vec.y.value * sy.value));
};
export const rotate2D = (vec, angle) => {
    const cos = operated([angle], () => Math.cos(angle.value));
    const sin = operated([angle], () => Math.sin(angle.value));
    return new Vector2D(operated([vec.x, vec.y, cos, sin], () => vec.x.value * cos.value - vec.y.value * sin.value), operated([vec.x, vec.y, cos, sin], () => vec.x.value * sin.value + vec.y.value * cos.value));
};
export const createRect2D = (x = 0, y = 0, width = 0, height = 0) => ({
    position: vector2Ref(x, y),
    size: vector2Ref(width, height)
});
// Rectangle center point (reactive)
export const rectCenter = (rect) => {
    return addVector2D(rect.position, multiplyVector2D(rect.size, numberRef(0.5)));
};
// Point containment in rectangle (reactive)
export const rectContainsPoint = (rect, point) => {
    return operated([rect.position.x, rect.position.y, rect.size.x, rect.size.y, point.x, point.y], () => {
        const inX = point.x.value >= rect.position.x.value && point.x.value <= rect.position.x.value + rect.size.x.value;
        const inY = point.y.value >= rect.position.y.value && point.y.value <= rect.position.y.value + rect.size.y.value;
        return inX && inY;
    });
};
// Rectangle intersection (reactive)
export const rectIntersects = (rectA, rectB) => {
    return operated([
        rectA.position.x, rectA.position.y, rectA.size.x, rectA.size.y,
        rectB.position.x, rectB.position.y, rectB.size.x, rectB.size.y
    ], () => {
        const aRight = rectA.position.x.value + rectA.size.x.value;
        const aBottom = rectA.position.y.value + rectA.size.y.value;
        const bRight = rectB.position.x.value + rectB.size.x.value;
        const bBottom = rectB.position.y.value + rectB.size.y.value;
        return !(rectA.position.x.value > bRight ||
            aRight < rectB.position.x.value ||
            rectA.position.y.value > bBottom ||
            aBottom < rectB.position.y.value);
    });
};
// Rectangle union (reactive)
export const rectUnion = (rectA, rectB) => {
    const minX = operated([rectA.position.x, rectB.position.x], () => Math.min(rectA.position.x.value, rectB.position.x.value));
    const minY = operated([rectA.position.y, rectB.position.y], () => Math.min(rectA.position.y.value, rectB.position.y.value));
    const maxX = operated([rectA.position.x, rectA.size.x, rectB.position.x, rectB.size.x], () => Math.max(rectA.position.x.value + rectA.size.x.value, rectB.position.x.value + rectB.size.x.value));
    const maxY = operated([rectA.position.y, rectA.size.y, rectB.position.y, rectB.size.y], () => Math.max(rectA.position.y.value + rectA.size.y.value, rectB.position.y.value + rectB.size.y.value));
    return {
        position: new Vector2D(minX, minY),
        size: new Vector2D(operated([maxX, minX], () => maxX.value - minX.value), operated([maxY, minY], () => maxY.value - minY.value))
    };
};
// Clamp point to rectangle bounds (reactive)
export const clampPointToRect = (point, rect) => {
    return new Vector2D(operated([point.x, rect.position.x, rect.size.x], () => Math.max(rect.position.x.value, Math.min(point.x.value, rect.position.x.value + rect.size.x.value))), operated([point.y, rect.position.y, rect.size.y], () => Math.max(rect.position.y.value, Math.min(point.y.value, rect.position.y.value + rect.size.y.value))));
};
// Distance from point to rectangle edge (reactive)
export const pointToRectDistance = (point, rect) => {
    const clamped = clampPointToRect(point, rect);
    return magnitude2D(subtractVector2D(point, clamped));
};
// Rectangle area (reactive)
export const rectArea = (rect) => {
    return operated([rect.size.x, rect.size.y], () => rect.size.x.value * rect.size.y.value);
};
// Scale rectangle around center (reactive)
export const scaleRectAroundCenter = (rect, scale) => {
    const center = rectCenter(rect);
    const newSize = multiplyVector2D(rect.size, scale);
    const newPosition = subtractVector2D(center, multiplyVector2D(newSize, numberRef(0.5)));
    return {
        position: newPosition,
        size: newSize
    };
};
// Transform rectangle with matrix (reactive)
export const transformRect2D = (rect, transform) => {
    // Transform all four corners and create bounding box
    const corners = [
        rect.position, // top-left
        addVector2D(rect.position, new Vector2D(rect.size.x, numberRef(0))), // top-right
        addVector2D(rect.position, rect.size), // bottom-right
        addVector2D(rect.position, new Vector2D(numberRef(0), rect.size.y)) // bottom-left
    ];
    const transformedCorners = corners.map(transform);
    return rectUnion({ position: transformedCorners[0], size: vector2Ref(0, 0) }, { position: transformedCorners[1], size: vector2Ref(0, 0) });
};
// Relative positioning within container
export const relativePosition = (child, parent) => {
    return new Vector2D(operated([child.x, parent.position.x], () => child.x.value - parent.position.x.value), operated([child.y, parent.position.y], () => child.y.value - parent.position.y.value));
};
// Convert relative position to absolute
export const absolutePosition = (relative, parent) => {
    return addVector2D(relative, parent.position);
};
// Aspect ratio constraint for rectangles
export const constrainRectAspectRatio = (rect, aspectRatio, mode = 'fit') => {
    return operated([rect.size.x, rect.size.y, aspectRatio], () => {
        const currentRatio = rect.size.x.value / rect.size.y.value;
        const targetRatio = aspectRatio.value;
        let newWidth = rect.size.x.value;
        let newHeight = rect.size.y.value;
        if (mode === 'fit') {
            if (currentRatio > targetRatio) {
                // Too wide, constrain height
                newHeight = newWidth / targetRatio;
            }
            else {
                // Too tall, constrain width
                newWidth = newHeight * targetRatio;
            }
        }
        else { // fill
            if (currentRatio > targetRatio) {
                // Too wide, constrain width
                newWidth = newHeight * targetRatio;
            }
            else {
                // Too tall, constrain height
                newHeight = newWidth / targetRatio;
            }
        }
        return {
            position: rect.position,
            size: vector2Ref(newWidth, newHeight)
        };
    });
};
// ============================================================================
// Enhanced Input and UI Control Operations
// ============================================================================
// Smooth value interpolation for UI controls
export const smoothValueTransition = (current, target, smoothing = numberRef(0.1)) => {
    return operated([current, target, smoothing], () => {
        const diff = target.value - current.value;
        return current.value + diff * smoothing.value;
    });
};
// Calculate thumb position for slider/range controls
export const sliderThumbPosition = (value, min, max, trackSize) => {
    return operated([value, min, max, trackSize], () => {
        const normalizedValue = (value.value - min.value) / (max.value - min.value);
        return normalizedValue * trackSize.value;
    });
};
// Calculate scrollbar thumb size and position
export const scrollbarMetrics = (contentSize, containerSize, scrollPosition) => {
    const thumbSize = operated([contentSize, containerSize], () => {
        const ratio = containerSize.value / contentSize.value;
        return Math.max(20, ratio * containerSize.value); // Minimum 20px
    });
    const thumbPosition = operated([scrollPosition, contentSize, containerSize, thumbSize], () => {
        const maxScroll = contentSize.value - containerSize.value;
        const scrollRatio = maxScroll > 0 ? scrollPosition.value / maxScroll : 0;
        return scrollRatio * (containerSize.value - thumbSize.value);
    });
    return { thumbSize, thumbPosition };
};
// Convert screen coordinates to normalized control values
export const screenToControlValue = (screenPos, controlRect, axis = 'x') => {
    const controlStart = axis === 'x' ? controlRect.position.x : controlRect.position.y;
    const controlSize = axis === 'x' ? controlRect.size.x : controlRect.size.y;
    return operated([screenPos, controlStart, controlSize], () => {
        const relativePos = screenPos.value - controlStart.value;
        return Math.max(0, Math.min(1, relativePos / controlSize.value));
    });
};
// Enhanced easing functions for UI animations
export const easeInOutCubic = (t) => {
    return operated([t], () => {
        const x = t.value;
        return x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2;
    });
};
export const easeOutBounce = (t) => {
    return operated([t], () => {
        let x = t.value;
        const n1 = 7.5625;
        const d1 = 2.75;
        if (x < 1 / d1) {
            return n1 * x * x;
        }
        else if (x < 2 / d1) {
            x -= 1.5 / d1;
            return n1 * x * x + 0.75;
        }
        else if (x < 2.5 / d1) {
            x -= 2.25 / d1;
            return n1 * x * x + 0.9375;
        }
        else {
            x -= 2.625 / d1;
            return n1 * x * x + 0.984375;
        }
    });
};
// Momentum-based scrolling calculations
export const momentumScroll = (velocity, deceleration = numberRef(0.95), minVelocity = numberRef(0.01)) => {
    return operated([velocity, deceleration, minVelocity], () => {
        const newVelocity = velocity.value * deceleration.value;
        return Math.abs(newVelocity) < minVelocity.value ? 0 : newVelocity;
    });
};
// Calculate scroll bounds with bounce effects
export const scrollBoundsWithBounce = (scrollPosition, contentSize, containerSize, bounceDistance = numberRef(50)) => {
    return operated([scrollPosition, contentSize, containerSize, bounceDistance], () => {
        const maxScroll = contentSize.value - containerSize.value;
        if (scrollPosition.value < 0) {
            // Bouncing at start
            const bounce = Math.min(bounceDistance.value, Math.abs(scrollPosition.value));
            return -bounce * 0.3; // Reduce bounce effect
        }
        else if (scrollPosition.value > maxScroll) {
            // Bouncing at end
            const overScroll = scrollPosition.value - maxScroll;
            const bounce = Math.min(bounceDistance.value, overScroll);
            return maxScroll + bounce * 0.3;
        }
        return scrollPosition.value;
    });
};
//
const flattenRefs = (input) => {
    const refs = [];
    const traverse = (item) => {
        if (item && typeof item === 'object' && 'value' in item) {
            // It's a reactive reference
            refs.push(item);
        }
        else if (Array.isArray(item)) {
            // It's an array, traverse each element
            item.forEach(traverse);
        }
        else if (item && typeof item === 'object') {
            // It's an object, traverse its properties
            Object.values(item).forEach(traverse);
        }
    };
    traverse(input);
    return refs;
};
//
export const operated = (args, fn) => {
    // Get initial values for the function
    const getCurrentValues = () => args.map(arg => {
        if (arg && typeof arg === 'object' && 'value' in arg) {
            return arg.value;
        }
        return arg;
    });
    const initialResult = fn(...getCurrentValues());
    // If the result is a number, return a reactive number reference
    if (typeof initialResult === 'number') {
        const result = numberRef(initialResult);
        const updateResult = () => {
            result.value = fn(...getCurrentValues());
        };
        // Flatten all reactive references from the arguments
        const allRefs = flattenRefs(args);
        // Subscribe to each reactive reference to update the result
        allRefs.forEach(ref => affected(ref, updateResult));
        return result;
    }
    // For non-number results (vectors, matrices, etc.), return the computed result
    // The caller is responsible for ensuring the result has the right reactive structure
    let currentResult = initialResult;
    const updateResult = () => {
        currentResult = fn(...getCurrentValues());
    };
    // Flatten all reactive references from the arguments
    const allRefs = flattenRefs(args);
    // Subscribe to each reactive reference to update the result
    allRefs.forEach(ref => affected(ref, updateResult));
    return currentResult;
};
// Scalar operations (1D)
export const addRef = (a, b) => {
    return operated([a, b], () => a.value + b.value);
};
export const subtractRef = (a, b) => {
    return operated([a, b], () => a.value - b.value);
};
export const multiplyRef = (a, b) => {
    return operated([a, b], () => a.value * b.value);
};
export const divideRef = (a, b) => {
    return operated([a, b], () => a.value / b.value);
};
export const modulusRef = (a, b) => {
    return operated([a, b], () => a.value % b.value);
};
export const powerRef = (a, b) => {
    return operated([a, b], () => Math.pow(a.value, b.value));
};
// Trigonometric functions
export const sinRef = (a) => {
    return operated(a, () => Math.sin(a.value));
};
export const cosRef = (a) => {
    return operated(a, () => Math.cos(a.value));
};
export const tanRef = (a) => {
    return operated(a, () => Math.tan(a.value));
};
export const asinRef = (a) => {
    return operated(a, () => Math.asin(a.value));
};
export const acosRef = (a) => {
    return operated(a, () => Math.acos(a.value));
};
export const atanRef = (a) => {
    return operated(a, () => Math.atan(a.value));
};
export const atan2Ref = (a, b) => {
    return operated([a, b], () => Math.atan2(a.value, b.value));
};
export const hypotRef = (a, b) => {
    return operated([a, b], () => Math.hypot(a.value, b.value));
};
// Other math functions
export const squareRootRef = (a) => {
    return operated(a, () => Math.sqrt(a.value));
};
export const cubeRootRef = (a) => {
    return operated(a, () => Math.cbrt(a.value));
};
export const absoluteRef = (a) => {
    return operated(a, () => Math.abs(a.value));
};
export const signRef = (a) => {
    return operated(a, () => Math.sign(a.value));
};
export const clampRef = (a, min, max) => {
    return operated([a, min, max], () => Math.min(Math.max(a.value, min.value), max.value));
};
// Vector operations (2D)
export const addVector2D = (a, b) => {
    return new Vector2D(operated([a.x, b.x], () => a.x.value + b.x.value), operated([a.y, b.y], () => a.y.value + b.y.value));
};
export const subtractVector2D = (a, b) => {
    return new Vector2D(operated([a.x, b.x], () => a.x.value - b.x.value), operated([a.y, b.y], () => a.y.value - b.y.value));
};
export const multiplyVector2D = (a, scalar) => {
    return new Vector2D(operated([a.x, scalar], () => a.x.value * scalar.value), operated([a.y, scalar], () => a.y.value * scalar.value));
};
export const divideVector2D = (a, scalar) => {
    return new Vector2D(operated([a.x, scalar], () => a.x.value / scalar.value), operated([a.y, scalar], () => a.y.value / scalar.value));
};
export const dotProduct2D = (a, b) => {
    return operated([a.x, a.y, b.x, b.y], () => a.x.value * b.x.value + a.y.value * b.y.value);
};
export const magnitude2D = (a) => {
    return operated([a.x, a.y], () => Math.sqrt(a.x.value * a.x.value + a.y.value * a.y.value));
};
export const normalize2D = (a) => {
    const mag = magnitude2D(a);
    return new Vector2D(operated([a.x, mag], () => a.x.value / mag.value), operated([a.y, mag], () => a.y.value / mag.value));
};
// Vector operations (3D)
export const addVector3D = (a, b) => {
    return new Vector3D(operated([a.x, b.x], () => a.x.value + b.x.value), operated([a.y, b.y], () => a.y.value + b.y.value), operated([a.z, b.z], () => a.z.value + b.z.value));
};
export const subtractVector3D = (a, b) => {
    return new Vector3D(operated([a.x, b.x], () => a.x.value - b.x.value), operated([a.y, b.y], () => a.y.value - b.y.value), operated([a.z, b.z], () => a.z.value - b.z.value));
};
export const multiplyVector3D = (a, scalar) => {
    return new Vector3D(operated([a.x, scalar], () => a.x.value * scalar.value), operated([a.y, scalar], () => a.y.value * scalar.value), operated([a.z, scalar], () => a.z.value * scalar.value));
};
export const divideVector3D = (a, scalar) => {
    return new Vector3D(operated([a.x, scalar], () => a.x.value / scalar.value), operated([a.y, scalar], () => a.y.value / scalar.value), operated([a.z, scalar], () => a.z.value / scalar.value));
};
export const dotProduct3D = (a, b) => {
    return operated([a.x, a.y, a.z, b.x, b.y, b.z], () => a.x.value * b.x.value + a.y.value * b.y.value + a.z.value * b.z.value);
};
export const crossProduct3D = (a, b) => {
    return new Vector3D(operated([a.y, a.z, b.y, b.z], () => a.y.value * b.z.value - a.z.value * b.y.value), operated([a.z, a.x, b.z, b.x], () => a.z.value * b.x.value - a.x.value * b.z.value), operated([a.x, a.y, b.x, b.y], () => a.x.value * b.y.value - a.y.value * b.x.value));
};
export const magnitude3D = (a) => {
    return operated([a.x, a.y, a.z], () => Math.sqrt(a.x.value * a.x.value + a.y.value * a.y.value + a.z.value * a.z.value));
};
export const normalize3D = (a) => {
    const mag = magnitude3D(a);
    return new Vector3D(operated([a.x, mag], () => a.x.value / mag.value), operated([a.y, mag], () => a.y.value / mag.value), operated([a.z, mag], () => a.z.value / mag.value));
};
// Vector operations (4D)
export const addVector4D = (a, b) => {
    return new Vector4D(operated([a.x, b.x], () => a.x.value + b.x.value), operated([a.y, b.y], () => a.y.value + b.y.value), operated([a.z, b.z], () => a.z.value + b.z.value), operated([a.w, b.w], () => a.w.value + b.w.value));
};
export const subtractVector4D = (a, b) => {
    return new Vector4D(operated([a.x, b.x], () => a.x.value - b.x.value), operated([a.y, b.y], () => a.y.value - b.y.value), operated([a.z, b.z], () => a.z.value - b.z.value), operated([a.w, b.w], () => a.w.value - b.w.value));
};
export const multiplyVector4D = (a, scalar) => {
    return new Vector4D(operated([a.x, scalar], () => a.x.value * scalar.value), operated([a.y, scalar], () => a.y.value * scalar.value), operated([a.z, scalar], () => a.z.value * scalar.value), operated([a.w, scalar], () => a.w.value * scalar.value));
};
export const divideVector4D = (a, scalar) => {
    return new Vector4D(operated([a.x, scalar], () => a.x.value / scalar.value), operated([a.y, scalar], () => a.y.value / scalar.value), operated([a.z, scalar], () => a.z.value / scalar.value), operated([a.w, scalar], () => a.w.value / scalar.value));
};
export const dotProduct4D = (a, b) => {
    return operated([a.x, a.y, a.z, a.w, b.x, b.y, b.z, b.w], () => a.x.value * b.x.value + a.y.value * b.y.value + a.z.value * b.z.value + a.w.value * b.w.value);
};
export const magnitude4D = (a) => {
    return operated([a.x, a.y, a.z, a.w], () => Math.sqrt(a.x.value * a.x.value + a.y.value * a.y.value + a.z.value * a.z.value + a.w.value * a.w.value));
};
export const normalize4D = (a) => {
    const mag = magnitude4D(a);
    return new Vector4D(operated([a.x, mag], () => a.x.value / mag.value), operated([a.y, mag], () => a.y.value / mag.value), operated([a.z, mag], () => a.z.value / mag.value), operated([a.w, mag], () => a.w.value / mag.value));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3BlcmF0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIk9wZXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBWSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDNUQsT0FBTyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDakQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNyQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRXJDLDhDQUE4QztBQUM5QyxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxHQUFtQyxFQUFrQyxFQUFFO0lBQ25HLFFBQVEsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2pCLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEQsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVELE9BQU8sQ0FBQyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsaUNBQWlDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQzVFLENBQUM7QUFDTCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxHQUFtQyxFQUFrQyxFQUFFO0lBQ2pHLElBQUksR0FBRyxZQUFZLFFBQVE7UUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkQsSUFBSSxHQUFHLFlBQVksUUFBUTtRQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFELElBQUksR0FBRyxZQUFZLFFBQVE7UUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLE1BQU0sSUFBSSxLQUFLLENBQUMseUJBQXlCLENBQUMsQ0FBQztBQUMvQyxDQUFDLENBQUM7QUFFRiw0Q0FBNEM7QUFDNUMsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBYSxFQUFFLEVBQWdDLEVBQUUsRUFBZ0MsRUFBRSxFQUFFO0lBQzdHLE9BQU8sV0FBVyxDQUFDLEdBQUcsRUFBRSxJQUFJLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNsRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxHQUFhLEVBQUUsRUFBZ0MsRUFBRSxLQUFtQyxFQUFFLEVBQUUsRUFBRTtJQUM5RyxPQUFPLElBQUksUUFBUSxDQUNmLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUNuRCxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FDdEQsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLEdBQWEsRUFBRSxLQUFtQyxFQUFFLEVBQUU7SUFDM0UsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMzRCxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQzNELE9BQU8sSUFBSSxRQUFRLENBQ2YsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFDM0YsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FDOUYsQ0FBQztBQUNOLENBQUMsQ0FBQztBQVFGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLElBQTJDLENBQUMsRUFDN0MsSUFBMkMsQ0FBQyxFQUM1QyxRQUErQyxDQUFDLEVBQ2hELFNBQWdELENBQUMsRUFBVSxFQUFFLENBQUMsQ0FBQztJQUN2RixRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDMUIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDO0NBQ2xDLENBQUMsQ0FBQztBQUVILG9DQUFvQztBQUNwQyxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFZLEVBQVksRUFBRTtJQUNqRCxPQUFPLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuRixDQUFDLENBQUM7QUFFRiw0Q0FBNEM7QUFDNUMsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxJQUFZLEVBQUUsS0FBZSxFQUFnQyxFQUFFO0lBQzdGLE9BQU8sUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFO1FBQ2pHLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ2pILE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ2pILE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQztJQUN0QixDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQztBQUVGLG9DQUFvQztBQUNwQyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxLQUFhLEVBQUUsS0FBYSxFQUFnQyxFQUFFO0lBQ3pGLE9BQU8sUUFBUSxDQUFDO1FBQ1osS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlELEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNqRSxFQUFFLEdBQUcsRUFBRTtRQUNKLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDM0QsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUM1RCxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQzNELE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFFNUQsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLE1BQU07WUFDL0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUs7WUFDL0IsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLE9BQU87WUFDaEMsT0FBTyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9DLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDO0FBRUYsNkJBQTZCO0FBQzdCLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFDLEtBQWEsRUFBRSxLQUFhLEVBQVUsRUFBRTtJQUM5RCxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDNUgsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQzVILE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQ3pGLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN4RyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUN6RixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFFeEcsT0FBTztRQUNILFFBQVEsRUFBRSxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO1FBQ2xDLElBQUksRUFBRSxJQUFJLFFBQVEsQ0FDZCxRQUFRLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQ3JELFFBQVEsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FB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QyxNQUFNLFdBQVcsR0FBRyxDQUFDLENBQVcsRUFBRSxDQUFXLEVBQUUsRUFBRTtJQUNwRCxPQUFPLElBQUksUUFBUSxDQUNmLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQ2pELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQ2pELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQ3BELENBQUM7QUFDTixDQUFDLENBQUE7QUFFRCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLENBQVcsRUFBRSxDQUFXLEVBQUUsRUFBRTtJQUN6RCxPQUFPLElBQUksUUFBUSxDQUNmLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQ2pELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQ2pELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQ3BELENBQUM7QUFDTixDQUFDLENBQUE7QUFFRCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLENBQVcsRUFBRSxNQUFvQyxFQUFFLEVBQUU7SUFDbEYsT0FBTyxJQUFJLFFBQVEsQ0FDZixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDdkQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQ3ZELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUMxRCxDQUFDO0FBQ04sQ0FBQyxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsQ0FBVyxFQUFFLE1BQW9DLEVBQUUsRUFBRTtJQUNoRixPQUFPLElBQUksUUFBUSxDQUNmLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUN2RCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDdkQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQzFELENBQUM7QUFDTixDQUFDLENBQUE7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFXLEVBQUUsQ0FBVyxFQUFFLEVBQUU7SUFDckQsT0FBTyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUNqRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FDeEUsQ0FBQztBQUNOLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxDQUFDLENBQVcsRUFBRSxDQUFXLEVBQUUsRUFBRTtJQUN2RCxPQUFPLElBQUksUUFBUSxDQUNmLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUNuRixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFDbkYsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQ3RGLENBQUM7QUFDTixDQUFDLENBQUE7QUFFRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxDQUFXLEVBQUUsRUFBRTtJQUN2QyxPQUFPLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FDbkYsQ0FBQztBQUNOLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLENBQVcsRUFBRSxFQUFFO0lBQ3ZDLE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQixPQUFPLElBQUksUUFBUSxDQUNmLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUNqRCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFDakQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQ3BELENBQUM7QUFDTixDQUFDLENBQUE7QUFFRCx5QkFBeUI7QUFDekIsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBVyxFQUFFLENBQVcsRUFBRSxFQUFFO0lBQ3BELE9BQU8sSUFBSSxRQUFRLENBQ2YsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFDakQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFDakQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFDakQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FDcEQsQ0FBQztBQUNOLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQUMsQ0FBVyxFQUFFLENBQVcsRUFBRSxFQUFFO0lBQ3pELE9BQU8sSUFBSSxRQUFRLENBQ2YsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFDakQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFDakQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFDakQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FDcEQsQ0FBQztBQUNOLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQUMsQ0FBVyxFQUFFLE1BQW9DLEVBQUUsRUFBRTtJQUNsRixPQUFPLElBQUksUUFBUSxDQUNmLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUN2RCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDdkQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQ3ZELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUMxRCxDQUFDO0FBQ04sQ0FBQyxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsQ0FBVyxFQUFFLE1BQW9DLEVBQUUsRUFBRTtJQUNoRixPQUFPLElBQUksUUFBUSxDQUNmLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUN2RCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDdkQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQ3ZELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUMxRCxDQUFDO0FBQ04sQ0FBQyxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBVyxFQUFFLENBQVcsRUFBRSxFQUFFO0lBQ3JELE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQzNELENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUNoRyxDQUFDO0FBQ04sQ0FBQyxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBVyxFQUFFLEVBQUU7SUFDdkMsT0FBTyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FDM0csQ0FBQztBQUNOLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLENBQVcsRUFBRSxFQUFFO0lBQ3ZDLE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQixPQUFPLElBQUksUUFBUSxDQUNmLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUNqRCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFDakQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQ2pELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUNwRCxDQUFDO0FBQ04sQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbnVtYmVyUmVmLCBjb21wdXRlZCwgYWZmZWN0ZWQgfSBmcm9tIFwiZmVzdC9vYmplY3RcIjtcbmltcG9ydCB7IFZlY3RvcjJELCB2ZWN0b3IyUmVmIH0gZnJvbSBcIi4vUG9pbnQyRFwiO1xuaW1wb3J0IHsgVmVjdG9yM0QgfSBmcm9tIFwiLi9Qb2ludDNEXCI7XG5pbXBvcnQgeyBWZWN0b3I0RCB9IGZyb20gXCIuL1BvaW50NERcIjtcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIGNvbXBvbmVudCBpbnRlZ3JhdGlvblxuZXhwb3J0IGNvbnN0IHZlY3RvckZyb21BcnJheSA9IChhcnI6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj5bXSk6IFZlY3RvcjJEIHwgVmVjdG9yM0QgfCBWZWN0b3I0RCA9PiB7XG4gICAgc3dpdGNoIChhcnIubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBWZWN0b3IyRChhcnJbMF0sIGFyclsxXSk7XG4gICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBWZWN0b3IzRChhcnJbMF0sIGFyclsxXSwgYXJyWzJdKTtcbiAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IFZlY3RvcjREKGFyclswXSwgYXJyWzFdLCBhcnJbMl0sIGFyclszXSk7XG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdmVjdG9yIGRpbWVuc2lvbjogJHthcnIubGVuZ3RofWApO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2ZWN0b3JUb0FycmF5ID0gKHZlYzogVmVjdG9yMkQgfCBWZWN0b3IzRCB8IFZlY3RvcjREKTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPltdID0+IHtcbiAgICBpZiAodmVjIGluc3RhbmNlb2YgVmVjdG9yMkQpIHJldHVybiBbdmVjLngsIHZlYy55XTtcbiAgICBpZiAodmVjIGluc3RhbmNlb2YgVmVjdG9yM0QpIHJldHVybiBbdmVjLngsIHZlYy55LCB2ZWMuel07XG4gICAgaWYgKHZlYyBpbnN0YW5jZW9mIFZlY3RvcjREKSByZXR1cm4gW3ZlYy54LCB2ZWMueSwgdmVjLnosIHZlYy53XTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCB2ZWN0b3IgdHlwZVwiKTtcbn07XG5cbi8vIFRyYW5zZm9ybSB1dGlsaXRpZXMgZm9yIGxheW91dCBjb21wb25lbnRzXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlMkQgPSAodmVjOiBWZWN0b3IyRCwgdHg6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4sIHR5OiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIGFkZFZlY3RvcjJEKHZlYywgbmV3IFZlY3RvcjJEKHR4LCB0eSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNjYWxlMkQgPSAodmVjOiBWZWN0b3IyRCwgc3g6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4sIHN5OiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gc3gpID0+IHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKFxuICAgICAgICBvcGVyYXRlZChbdmVjLngsIHN4XSwgKCkgPT4gdmVjLngudmFsdWUgKiBzeC52YWx1ZSksXG4gICAgICAgIG9wZXJhdGVkKFt2ZWMueSwgc3ldLCAoKSA9PiB2ZWMueS52YWx1ZSAqIHN5LnZhbHVlKVxuICAgICk7XG59O1xuXG5leHBvcnQgY29uc3Qgcm90YXRlMkQgPSAodmVjOiBWZWN0b3IyRCwgYW5nbGU6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4pID0+IHtcbiAgICBjb25zdCBjb3MgPSBvcGVyYXRlZChbYW5nbGVdLCAoKSA9PiBNYXRoLmNvcyhhbmdsZS52YWx1ZSkpO1xuICAgIGNvbnN0IHNpbiA9IG9wZXJhdGVkKFthbmdsZV0sICgpID0+IE1hdGguc2luKGFuZ2xlLnZhbHVlKSk7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyRChcbiAgICAgICAgb3BlcmF0ZWQoW3ZlYy54LCB2ZWMueSwgY29zLCBzaW5dLCAoKSA9PiB2ZWMueC52YWx1ZSAqIGNvcy52YWx1ZSAtIHZlYy55LnZhbHVlICogc2luLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW3ZlYy54LCB2ZWMueSwgY29zLCBzaW5dLCAoKSA9PiB2ZWMueC52YWx1ZSAqIHNpbi52YWx1ZSArIHZlYy55LnZhbHVlICogY29zLnZhbHVlKVxuICAgICk7XG59O1xuXG4vLyBSZWN0YW5nbGUvQm91bmRpbmcgYm94IG9wZXJhdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgUmVjdDJEIHtcbiAgICBwb3NpdGlvbjogVmVjdG9yMkQ7IC8vIHgsIHlcbiAgICBzaXplOiBWZWN0b3IyRDsgICAgIC8vIHdpZHRoLCBoZWlnaHRcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlY3QyRCA9ICh4OiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMCk6IFJlY3QyRCA9PiAoe1xuICAgIHBvc2l0aW9uOiB2ZWN0b3IyUmVmKHgsIHkpLFxuICAgIHNpemU6IHZlY3RvcjJSZWYod2lkdGgsIGhlaWdodClcbn0pO1xuXG4vLyBSZWN0YW5nbGUgY2VudGVyIHBvaW50IChyZWFjdGl2ZSlcbmV4cG9ydCBjb25zdCByZWN0Q2VudGVyID0gKHJlY3Q6IFJlY3QyRCk6IFZlY3RvcjJEID0+IHtcbiAgICByZXR1cm4gYWRkVmVjdG9yMkQocmVjdC5wb3NpdGlvbiwgbXVsdGlwbHlWZWN0b3IyRChyZWN0LnNpemUsIG51bWJlclJlZigwLjUpKSk7XG59O1xuXG4vLyBQb2ludCBjb250YWlubWVudCBpbiByZWN0YW5nbGUgKHJlYWN0aXZlKVxuZXhwb3J0IGNvbnN0IHJlY3RDb250YWluc1BvaW50ID0gKHJlY3Q6IFJlY3QyRCwgcG9pbnQ6IFZlY3RvcjJEKTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFtyZWN0LnBvc2l0aW9uLngsIHJlY3QucG9zaXRpb24ueSwgcmVjdC5zaXplLngsIHJlY3Quc2l6ZS55LCBwb2ludC54LCBwb2ludC55XSwgKCkgPT4ge1xuICAgICAgICBjb25zdCBpblggPSBwb2ludC54LnZhbHVlID49IHJlY3QucG9zaXRpb24ueC52YWx1ZSAmJiBwb2ludC54LnZhbHVlIDw9IHJlY3QucG9zaXRpb24ueC52YWx1ZSArIHJlY3Quc2l6ZS54LnZhbHVlO1xuICAgICAgICBjb25zdCBpblkgPSBwb2ludC55LnZhbHVlID49IHJlY3QucG9zaXRpb24ueS52YWx1ZSAmJiBwb2ludC55LnZhbHVlIDw9IHJlY3QucG9zaXRpb24ueS52YWx1ZSArIHJlY3Quc2l6ZS55LnZhbHVlO1xuICAgICAgICByZXR1cm4gaW5YICYmIGluWTtcbiAgICB9KTtcbn07XG5cbi8vIFJlY3RhbmdsZSBpbnRlcnNlY3Rpb24gKHJlYWN0aXZlKVxuZXhwb3J0IGNvbnN0IHJlY3RJbnRlcnNlY3RzID0gKHJlY3RBOiBSZWN0MkQsIHJlY3RCOiBSZWN0MkQpOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0+IHtcbiAgICByZXR1cm4gb3BlcmF0ZWQoW1xuICAgICAgICByZWN0QS5wb3NpdGlvbi54LCByZWN0QS5wb3NpdGlvbi55LCByZWN0QS5zaXplLngsIHJlY3RBLnNpemUueSxcbiAgICAgICAgcmVjdEIucG9zaXRpb24ueCwgcmVjdEIucG9zaXRpb24ueSwgcmVjdEIuc2l6ZS54LCByZWN0Qi5zaXplLnlcbiAgICBdLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFSaWdodCA9IHJlY3RBLnBvc2l0aW9uLngudmFsdWUgKyByZWN0QS5zaXplLngudmFsdWU7XG4gICAgICAgIGNvbnN0IGFCb3R0b20gPSByZWN0QS5wb3NpdGlvbi55LnZhbHVlICsgcmVjdEEuc2l6ZS55LnZhbHVlO1xuICAgICAgICBjb25zdCBiUmlnaHQgPSByZWN0Qi5wb3NpdGlvbi54LnZhbHVlICsgcmVjdEIuc2l6ZS54LnZhbHVlO1xuICAgICAgICBjb25zdCBiQm90dG9tID0gcmVjdEIucG9zaXRpb24ueS52YWx1ZSArIHJlY3RCLnNpemUueS52YWx1ZTtcblxuICAgICAgICByZXR1cm4gIShyZWN0QS5wb3NpdGlvbi54LnZhbHVlID4gYlJpZ2h0IHx8XG4gICAgICAgICAgICAgICAgIGFSaWdodCA8IHJlY3RCLnBvc2l0aW9uLngudmFsdWUgfHxcbiAgICAgICAgICAgICAgICAgcmVjdEEucG9zaXRpb24ueS52YWx1ZSA+IGJCb3R0b20gfHxcbiAgICAgICAgICAgICAgICAgYUJvdHRvbSA8IHJlY3RCLnBvc2l0aW9uLnkudmFsdWUpO1xuICAgIH0pO1xufTtcblxuLy8gUmVjdGFuZ2xlIHVuaW9uIChyZWFjdGl2ZSlcbmV4cG9ydCBjb25zdCByZWN0VW5pb24gPSAocmVjdEE6IFJlY3QyRCwgcmVjdEI6IFJlY3QyRCk6IFJlY3QyRCA9PiB7XG4gICAgY29uc3QgbWluWCA9IG9wZXJhdGVkKFtyZWN0QS5wb3NpdGlvbi54LCByZWN0Qi5wb3NpdGlvbi54XSwgKCkgPT4gTWF0aC5taW4ocmVjdEEucG9zaXRpb24ueC52YWx1ZSwgcmVjdEIucG9zaXRpb24ueC52YWx1ZSkpO1xuICAgIGNvbnN0IG1pblkgPSBvcGVyYXRlZChbcmVjdEEucG9zaXRpb24ueSwgcmVjdEIucG9zaXRpb24ueV0sICgpID0+IE1hdGgubWluKHJlY3RBLnBvc2l0aW9uLnkudmFsdWUsIHJlY3RCLnBvc2l0aW9uLnkudmFsdWUpKTtcbiAgICBjb25zdCBtYXhYID0gb3BlcmF0ZWQoW3JlY3RBLnBvc2l0aW9uLngsIHJlY3RBLnNpemUueCwgcmVjdEIucG9zaXRpb24ueCwgcmVjdEIuc2l6ZS54XSwgKCkgPT5cbiAgICAgICAgTWF0aC5tYXgocmVjdEEucG9zaXRpb24ueC52YWx1ZSArIHJlY3RBLnNpemUueC52YWx1ZSwgcmVjdEIucG9zaXRpb24ueC52YWx1ZSArIHJlY3RCLnNpemUueC52YWx1ZSkpO1xuICAgIGNvbnN0IG1heFkgPSBvcGVyYXRlZChbcmVjdEEucG9zaXRpb24ueSwgcmVjdEEuc2l6ZS55LCByZWN0Qi5wb3NpdGlvbi55LCByZWN0Qi5zaXplLnldLCAoKSA9PlxuICAgICAgICBNYXRoLm1heChyZWN0QS5wb3NpdGlvbi55LnZhbHVlICsgcmVjdEEuc2l6ZS55LnZhbHVlLCByZWN0Qi5wb3NpdGlvbi55LnZhbHVlICsgcmVjdEIuc2l6ZS55LnZhbHVlKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjJEKG1pblgsIG1pblkpLFxuICAgICAgICBzaXplOiBuZXcgVmVjdG9yMkQoXG4gICAgICAgICAgICBvcGVyYXRlZChbbWF4WCwgbWluWF0sICgpID0+IG1heFgudmFsdWUgLSBtaW5YLnZhbHVlKSxcbiAgICAgICAgICAgIG9wZXJhdGVkKFttYXhZLCBtaW5ZXSwgKCkgPT4gbWF4WS52YWx1ZSAtIG1pblkudmFsdWUpXG4gICAgICAgIClcbiAgICB9O1xufTtcblxuLy8gQ2xhbXAgcG9pbnQgdG8gcmVjdGFuZ2xlIGJvdW5kcyAocmVhY3RpdmUpXG5leHBvcnQgY29uc3QgY2xhbXBQb2ludFRvUmVjdCA9IChwb2ludDogVmVjdG9yMkQsIHJlY3Q6IFJlY3QyRCk6IFZlY3RvcjJEID0+IHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKFxuICAgICAgICBvcGVyYXRlZChbcG9pbnQueCwgcmVjdC5wb3NpdGlvbi54LCByZWN0LnNpemUueF0sICgpID0+XG4gICAgICAgICAgICBNYXRoLm1heChyZWN0LnBvc2l0aW9uLngudmFsdWUsIE1hdGgubWluKHBvaW50LngudmFsdWUsIHJlY3QucG9zaXRpb24ueC52YWx1ZSArIHJlY3Quc2l6ZS54LnZhbHVlKSkpLFxuICAgICAgICBvcGVyYXRlZChbcG9pbnQueSwgcmVjdC5wb3NpdGlvbi55LCByZWN0LnNpemUueV0sICgpID0+XG4gICAgICAgICAgICBNYXRoLm1heChyZWN0LnBvc2l0aW9uLnkudmFsdWUsIE1hdGgubWluKHBvaW50LnkudmFsdWUsIHJlY3QucG9zaXRpb24ueS52YWx1ZSArIHJlY3Quc2l6ZS55LnZhbHVlKSkpXG4gICAgKTtcbn07XG5cbi8vIERpc3RhbmNlIGZyb20gcG9pbnQgdG8gcmVjdGFuZ2xlIGVkZ2UgKHJlYWN0aXZlKVxuZXhwb3J0IGNvbnN0IHBvaW50VG9SZWN0RGlzdGFuY2UgPSAocG9pbnQ6IFZlY3RvcjJELCByZWN0OiBSZWN0MkQpOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0+IHtcbiAgICBjb25zdCBjbGFtcGVkID0gY2xhbXBQb2ludFRvUmVjdChwb2ludCwgcmVjdCk7XG4gICAgcmV0dXJuIG1hZ25pdHVkZTJEKHN1YnRyYWN0VmVjdG9yMkQocG9pbnQsIGNsYW1wZWQpKTtcbn07XG5cbi8vIFJlY3RhbmdsZSBhcmVhIChyZWFjdGl2ZSlcbmV4cG9ydCBjb25zdCByZWN0QXJlYSA9IChyZWN0OiBSZWN0MkQpOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0+IHtcbiAgICByZXR1cm4gb3BlcmF0ZWQoW3JlY3Quc2l6ZS54LCByZWN0LnNpemUueV0sICgpID0+IHJlY3Quc2l6ZS54LnZhbHVlICogcmVjdC5zaXplLnkudmFsdWUpO1xufTtcblxuLy8gU2NhbGUgcmVjdGFuZ2xlIGFyb3VuZCBjZW50ZXIgKHJlYWN0aXZlKVxuZXhwb3J0IGNvbnN0IHNjYWxlUmVjdEFyb3VuZENlbnRlciA9IChyZWN0OiBSZWN0MkQsIHNjYWxlOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KTogUmVjdDJEID0+IHtcbiAgICBjb25zdCBjZW50ZXIgPSByZWN0Q2VudGVyKHJlY3QpO1xuICAgIGNvbnN0IG5ld1NpemUgPSBtdWx0aXBseVZlY3RvcjJEKHJlY3Quc2l6ZSwgc2NhbGUpO1xuICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gc3VidHJhY3RWZWN0b3IyRChjZW50ZXIsIG11bHRpcGx5VmVjdG9yMkQobmV3U2l6ZSwgbnVtYmVyUmVmKDAuNSkpKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHBvc2l0aW9uOiBuZXdQb3NpdGlvbixcbiAgICAgICAgc2l6ZTogbmV3U2l6ZVxuICAgIH07XG59O1xuXG4vLyBUcmFuc2Zvcm0gcmVjdGFuZ2xlIHdpdGggbWF0cml4IChyZWFjdGl2ZSlcbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1SZWN0MkQgPSAocmVjdDogUmVjdDJELCB0cmFuc2Zvcm06IChwb2ludDogVmVjdG9yMkQpID0+IFZlY3RvcjJEKTogUmVjdDJEID0+IHtcbiAgICAvLyBUcmFuc2Zvcm0gYWxsIGZvdXIgY29ybmVycyBhbmQgY3JlYXRlIGJvdW5kaW5nIGJveFxuICAgIGNvbnN0IGNvcm5lcnMgPSBbXG4gICAgICAgIHJlY3QucG9zaXRpb24sIC8vIHRvcC1sZWZ0XG4gICAgICAgIGFkZFZlY3RvcjJEKHJlY3QucG9zaXRpb24sIG5ldyBWZWN0b3IyRChyZWN0LnNpemUueCwgbnVtYmVyUmVmKDApKSksIC8vIHRvcC1yaWdodFxuICAgICAgICBhZGRWZWN0b3IyRChyZWN0LnBvc2l0aW9uLCByZWN0LnNpemUpLCAvLyBib3R0b20tcmlnaHRcbiAgICAgICAgYWRkVmVjdG9yMkQocmVjdC5wb3NpdGlvbiwgbmV3IFZlY3RvcjJEKG51bWJlclJlZigwKSwgcmVjdC5zaXplLnkpKSAgLy8gYm90dG9tLWxlZnRcbiAgICBdO1xuXG4gICAgY29uc3QgdHJhbnNmb3JtZWRDb3JuZXJzID0gY29ybmVycy5tYXAodHJhbnNmb3JtKTtcbiAgICByZXR1cm4gcmVjdFVuaW9uKFxuICAgICAgICB7IHBvc2l0aW9uOiB0cmFuc2Zvcm1lZENvcm5lcnNbMF0sIHNpemU6IHZlY3RvcjJSZWYoMCwgMCkgfSxcbiAgICAgICAgeyBwb3NpdGlvbjogdHJhbnNmb3JtZWRDb3JuZXJzWzFdLCBzaXplOiB2ZWN0b3IyUmVmKDAsIDApIH1cbiAgICApO1xufTtcblxuLy8gUmVsYXRpdmUgcG9zaXRpb25pbmcgd2l0aGluIGNvbnRhaW5lclxuZXhwb3J0IGNvbnN0IHJlbGF0aXZlUG9zaXRpb24gPSAoY2hpbGQ6IFZlY3RvcjJELCBwYXJlbnQ6IFJlY3QyRCk6IFZlY3RvcjJEID0+IHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKFxuICAgICAgICBvcGVyYXRlZChbY2hpbGQueCwgcGFyZW50LnBvc2l0aW9uLnhdLCAoKSA9PiBjaGlsZC54LnZhbHVlIC0gcGFyZW50LnBvc2l0aW9uLngudmFsdWUpLFxuICAgICAgICBvcGVyYXRlZChbY2hpbGQueSwgcGFyZW50LnBvc2l0aW9uLnldLCAoKSA9PiBjaGlsZC55LnZhbHVlIC0gcGFyZW50LnBvc2l0aW9uLnkudmFsdWUpXG4gICAgKTtcbn07XG5cbi8vIENvbnZlcnQgcmVsYXRpdmUgcG9zaXRpb24gdG8gYWJzb2x1dGVcbmV4cG9ydCBjb25zdCBhYnNvbHV0ZVBvc2l0aW9uID0gKHJlbGF0aXZlOiBWZWN0b3IyRCwgcGFyZW50OiBSZWN0MkQpOiBWZWN0b3IyRCA9PiB7XG4gICAgcmV0dXJuIGFkZFZlY3RvcjJEKHJlbGF0aXZlLCBwYXJlbnQucG9zaXRpb24pO1xufTtcblxuLy8gQXNwZWN0IHJhdGlvIGNvbnN0cmFpbnQgZm9yIHJlY3RhbmdsZXNcbmV4cG9ydCBjb25zdCBjb25zdHJhaW5SZWN0QXNwZWN0UmF0aW8gPSAocmVjdDogUmVjdDJELCBhc3BlY3RSYXRpbzogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiwgbW9kZTogJ2ZpdCcgfCAnZmlsbCcgPSAnZml0Jyk6IFJlY3QyRCA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFtyZWN0LnNpemUueCwgcmVjdC5zaXplLnksIGFzcGVjdFJhdGlvXSwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50UmF0aW8gPSByZWN0LnNpemUueC52YWx1ZSAvIHJlY3Quc2l6ZS55LnZhbHVlO1xuICAgICAgICBjb25zdCB0YXJnZXRSYXRpbyA9IGFzcGVjdFJhdGlvLnZhbHVlO1xuXG4gICAgICAgIGxldCBuZXdXaWR0aCA9IHJlY3Quc2l6ZS54LnZhbHVlO1xuICAgICAgICBsZXQgbmV3SGVpZ2h0ID0gcmVjdC5zaXplLnkudmFsdWU7XG5cbiAgICAgICAgaWYgKG1vZGUgPT09ICdmaXQnKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFJhdGlvID4gdGFyZ2V0UmF0aW8pIHtcbiAgICAgICAgICAgICAgICAvLyBUb28gd2lkZSwgY29uc3RyYWluIGhlaWdodFxuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IG5ld1dpZHRoIC8gdGFyZ2V0UmF0aW87XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRvbyB0YWxsLCBjb25zdHJhaW4gd2lkdGhcbiAgICAgICAgICAgICAgICBuZXdXaWR0aCA9IG5ld0hlaWdodCAqIHRhcmdldFJhdGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgeyAvLyBmaWxsXG4gICAgICAgICAgICBpZiAoY3VycmVudFJhdGlvID4gdGFyZ2V0UmF0aW8pIHtcbiAgICAgICAgICAgICAgICAvLyBUb28gd2lkZSwgY29uc3RyYWluIHdpZHRoXG4gICAgICAgICAgICAgICAgbmV3V2lkdGggPSBuZXdIZWlnaHQgKiB0YXJnZXRSYXRpbztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVG9vIHRhbGwsIGNvbnN0cmFpbiBoZWlnaHRcbiAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSBuZXdXaWR0aCAvIHRhcmdldFJhdGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWN0LnBvc2l0aW9uLFxuICAgICAgICAgICAgc2l6ZTogdmVjdG9yMlJlZihuZXdXaWR0aCwgbmV3SGVpZ2h0KVxuICAgICAgICB9O1xuICAgIH0pO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRW5oYW5jZWQgSW5wdXQgYW5kIFVJIENvbnRyb2wgT3BlcmF0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBTbW9vdGggdmFsdWUgaW50ZXJwb2xhdGlvbiBmb3IgVUkgY29udHJvbHNcbmV4cG9ydCBjb25zdCBzbW9vdGhWYWx1ZVRyYW5zaXRpb24gPSAoXG4gICAgY3VycmVudDogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPixcbiAgICB0YXJnZXQ6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4sXG4gICAgc21vb3RoaW5nOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gbnVtYmVyUmVmKDAuMSlcbik6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChbY3VycmVudCwgdGFyZ2V0LCBzbW9vdGhpbmddLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSB0YXJnZXQudmFsdWUgLSBjdXJyZW50LnZhbHVlO1xuICAgICAgICByZXR1cm4gY3VycmVudC52YWx1ZSArIGRpZmYgKiBzbW9vdGhpbmcudmFsdWU7XG4gICAgfSk7XG59O1xuXG4vLyBDYWxjdWxhdGUgdGh1bWIgcG9zaXRpb24gZm9yIHNsaWRlci9yYW5nZSBjb250cm9sc1xuZXhwb3J0IGNvbnN0IHNsaWRlclRodW1iUG9zaXRpb24gPSAoXG4gICAgdmFsdWU6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4sXG4gICAgbWluOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LFxuICAgIG1heDogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPixcbiAgICB0cmFja1NpemU6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj5cbik6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChbdmFsdWUsIG1pbiwgbWF4LCB0cmFja1NpemVdLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRWYWx1ZSA9ICh2YWx1ZS52YWx1ZSAtIG1pbi52YWx1ZSkgLyAobWF4LnZhbHVlIC0gbWluLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRWYWx1ZSAqIHRyYWNrU2l6ZS52YWx1ZTtcbiAgICB9KTtcbn07XG5cbi8vIENhbGN1bGF0ZSBzY3JvbGxiYXIgdGh1bWIgc2l6ZSBhbmQgcG9zaXRpb25cbmV4cG9ydCBjb25zdCBzY3JvbGxiYXJNZXRyaWNzID0gKFxuICAgIGNvbnRlbnRTaXplOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LFxuICAgIGNvbnRhaW5lclNpemU6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4sXG4gICAgc2Nyb2xsUG9zaXRpb246IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj5cbikgPT4ge1xuICAgIGNvbnN0IHRodW1iU2l6ZSA9IG9wZXJhdGVkKFtjb250ZW50U2l6ZSwgY29udGFpbmVyU2l6ZV0sICgpID0+IHtcbiAgICAgICAgY29uc3QgcmF0aW8gPSBjb250YWluZXJTaXplLnZhbHVlIC8gY29udGVudFNpemUudmFsdWU7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgyMCwgcmF0aW8gKiBjb250YWluZXJTaXplLnZhbHVlKTsgLy8gTWluaW11bSAyMHB4XG4gICAgfSk7XG5cbiAgICBjb25zdCB0aHVtYlBvc2l0aW9uID0gb3BlcmF0ZWQoW3Njcm9sbFBvc2l0aW9uLCBjb250ZW50U2l6ZSwgY29udGFpbmVyU2l6ZSwgdGh1bWJTaXplXSwgKCkgPT4ge1xuICAgICAgICBjb25zdCBtYXhTY3JvbGwgPSBjb250ZW50U2l6ZS52YWx1ZSAtIGNvbnRhaW5lclNpemUudmFsdWU7XG4gICAgICAgIGNvbnN0IHNjcm9sbFJhdGlvID0gbWF4U2Nyb2xsID4gMCA/IHNjcm9sbFBvc2l0aW9uLnZhbHVlIC8gbWF4U2Nyb2xsIDogMDtcbiAgICAgICAgcmV0dXJuIHNjcm9sbFJhdGlvICogKGNvbnRhaW5lclNpemUudmFsdWUgLSB0aHVtYlNpemUudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHsgdGh1bWJTaXplLCB0aHVtYlBvc2l0aW9uIH07XG59O1xuXG4vLyBDb252ZXJ0IHNjcmVlbiBjb29yZGluYXRlcyB0byBub3JtYWxpemVkIGNvbnRyb2wgdmFsdWVzXG5leHBvcnQgY29uc3Qgc2NyZWVuVG9Db250cm9sVmFsdWUgPSAoXG4gICAgc2NyZWVuUG9zOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LFxuICAgIGNvbnRyb2xSZWN0OiBSZWN0MkQsXG4gICAgYXhpczogJ3gnIHwgJ3knID0gJ3gnXG4pOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0+IHtcbiAgICBjb25zdCBjb250cm9sU3RhcnQgPSBheGlzID09PSAneCcgPyBjb250cm9sUmVjdC5wb3NpdGlvbi54IDogY29udHJvbFJlY3QucG9zaXRpb24ueTtcbiAgICBjb25zdCBjb250cm9sU2l6ZSA9IGF4aXMgPT09ICd4JyA/IGNvbnRyb2xSZWN0LnNpemUueCA6IGNvbnRyb2xSZWN0LnNpemUueTtcblxuICAgIHJldHVybiBvcGVyYXRlZChbc2NyZWVuUG9zLCBjb250cm9sU3RhcnQsIGNvbnRyb2xTaXplXSwgKCkgPT4ge1xuICAgICAgICBjb25zdCByZWxhdGl2ZVBvcyA9IHNjcmVlblBvcy52YWx1ZSAtIGNvbnRyb2xTdGFydC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHJlbGF0aXZlUG9zIC8gY29udHJvbFNpemUudmFsdWUpKTtcbiAgICB9KTtcbn07XG5cbi8vIEVuaGFuY2VkIGVhc2luZyBmdW5jdGlvbnMgZm9yIFVJIGFuaW1hdGlvbnNcbmV4cG9ydCBjb25zdCBlYXNlSW5PdXRDdWJpYyA9ICh0OiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFt0XSwgKCkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gdC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHggPCAwLjUgPyA0ICogeCAqIHggKiB4IDogMSAtIE1hdGgucG93KC0yICogeCArIDIsIDMpIC8gMjtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlT3V0Qm91bmNlID0gKHQ6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4pOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0+IHtcbiAgICByZXR1cm4gb3BlcmF0ZWQoW3RdLCAoKSA9PiB7XG4gICAgICAgIGxldCB4ID0gdC52YWx1ZTtcbiAgICAgICAgY29uc3QgbjEgPSA3LjU2MjU7XG4gICAgICAgIGNvbnN0IGQxID0gMi43NTtcblxuICAgICAgICBpZiAoeCA8IDEgLyBkMSkge1xuICAgICAgICAgICAgcmV0dXJuIG4xICogeCAqIHg7XG4gICAgICAgIH0gZWxzZSBpZiAoeCA8IDIgLyBkMSkge1xuICAgICAgICAgICAgeCAtPSAxLjUgLyBkMTtcbiAgICAgICAgICAgIHJldHVybiBuMSAqIHggKiB4ICsgMC43NTtcbiAgICAgICAgfSBlbHNlIGlmICh4IDwgMi41IC8gZDEpIHtcbiAgICAgICAgICAgIHggLT0gMi4yNSAvIGQxO1xuICAgICAgICAgICAgcmV0dXJuIG4xICogeCAqIHggKyAwLjkzNzU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4IC09IDIuNjI1IC8gZDE7XG4gICAgICAgICAgICByZXR1cm4gbjEgKiB4ICogeCArIDAuOTg0Mzc1O1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vLyBNb21lbnR1bS1iYXNlZCBzY3JvbGxpbmcgY2FsY3VsYXRpb25zXG5leHBvcnQgY29uc3QgbW9tZW50dW1TY3JvbGwgPSAoXG4gICAgdmVsb2NpdHk6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4sXG4gICAgZGVjZWxlcmF0aW9uOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gbnVtYmVyUmVmKDAuOTUpLFxuICAgIG1pblZlbG9jaXR5OiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gbnVtYmVyUmVmKDAuMDEpXG4pOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0+IHtcbiAgICByZXR1cm4gb3BlcmF0ZWQoW3ZlbG9jaXR5LCBkZWNlbGVyYXRpb24sIG1pblZlbG9jaXR5XSwgKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdWZWxvY2l0eSA9IHZlbG9jaXR5LnZhbHVlICogZGVjZWxlcmF0aW9uLnZhbHVlO1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMobmV3VmVsb2NpdHkpIDwgbWluVmVsb2NpdHkudmFsdWUgPyAwIDogbmV3VmVsb2NpdHk7XG4gICAgfSk7XG59O1xuXG4vLyBDYWxjdWxhdGUgc2Nyb2xsIGJvdW5kcyB3aXRoIGJvdW5jZSBlZmZlY3RzXG5leHBvcnQgY29uc3Qgc2Nyb2xsQm91bmRzV2l0aEJvdW5jZSA9IChcbiAgICBzY3JvbGxQb3NpdGlvbjogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPixcbiAgICBjb250ZW50U2l6ZTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPixcbiAgICBjb250YWluZXJTaXplOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LFxuICAgIGJvdW5jZURpc3RhbmNlOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gbnVtYmVyUmVmKDUwKVxuKTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFtzY3JvbGxQb3NpdGlvbiwgY29udGVudFNpemUsIGNvbnRhaW5lclNpemUsIGJvdW5jZURpc3RhbmNlXSwgKCkgPT4ge1xuICAgICAgICBjb25zdCBtYXhTY3JvbGwgPSBjb250ZW50U2l6ZS52YWx1ZSAtIGNvbnRhaW5lclNpemUudmFsdWU7XG5cbiAgICAgICAgaWYgKHNjcm9sbFBvc2l0aW9uLnZhbHVlIDwgMCkge1xuICAgICAgICAgICAgLy8gQm91bmNpbmcgYXQgc3RhcnRcbiAgICAgICAgICAgIGNvbnN0IGJvdW5jZSA9IE1hdGgubWluKGJvdW5jZURpc3RhbmNlLnZhbHVlLCBNYXRoLmFicyhzY3JvbGxQb3NpdGlvbi52YWx1ZSkpO1xuICAgICAgICAgICAgcmV0dXJuIC1ib3VuY2UgKiAwLjM7IC8vIFJlZHVjZSBib3VuY2UgZWZmZWN0XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsUG9zaXRpb24udmFsdWUgPiBtYXhTY3JvbGwpIHtcbiAgICAgICAgICAgIC8vIEJvdW5jaW5nIGF0IGVuZFxuICAgICAgICAgICAgY29uc3Qgb3ZlclNjcm9sbCA9IHNjcm9sbFBvc2l0aW9uLnZhbHVlIC0gbWF4U2Nyb2xsO1xuICAgICAgICAgICAgY29uc3QgYm91bmNlID0gTWF0aC5taW4oYm91bmNlRGlzdGFuY2UudmFsdWUsIG92ZXJTY3JvbGwpO1xuICAgICAgICAgICAgcmV0dXJuIG1heFNjcm9sbCArIGJvdW5jZSAqIDAuMztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzY3JvbGxQb3NpdGlvbi52YWx1ZTtcbiAgICB9KTtcbn07XG5cbi8vXG5jb25zdCBmbGF0dGVuUmVmcyA9IChpbnB1dDogYW55KTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPltdID0+IHtcbiAgICBjb25zdCByZWZzOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+W10gPSBbXTtcblxuICAgIGNvbnN0IHRyYXZlcnNlID0gKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICBpZiAoaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgJ3ZhbHVlJyBpbiBpdGVtKSB7XG4gICAgICAgICAgICAvLyBJdCdzIGEgcmVhY3RpdmUgcmVmZXJlbmNlXG4gICAgICAgICAgICByZWZzLnB1c2goaXRlbSk7XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgICAgLy8gSXQncyBhbiBhcnJheSwgdHJhdmVyc2UgZWFjaCBlbGVtZW50XG4gICAgICAgICAgICBpdGVtLmZvckVhY2godHJhdmVyc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvLyBJdCdzIGFuIG9iamVjdCwgdHJhdmVyc2UgaXRzIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoaXRlbSkuZm9yRWFjaCh0cmF2ZXJzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdHJhdmVyc2UoaW5wdXQpO1xuICAgIHJldHVybiByZWZzO1xufTtcblxuLy9cbmV4cG9ydCBjb25zdCBvcGVyYXRlZCA9IChhcmdzOiBhbnlbXSwgZm46ICguLi52YWx1ZXM6IGFueVtdKSA9PiBhbnkpID0+IHtcbiAgICAvLyBHZXQgaW5pdGlhbCB2YWx1ZXMgZm9yIHRoZSBmdW5jdGlvblxuICAgIGNvbnN0IGdldEN1cnJlbnRWYWx1ZXMgPSAoKSA9PiBhcmdzLm1hcChhcmcgPT4ge1xuICAgICAgICBpZiAoYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmICd2YWx1ZScgaW4gYXJnKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgfSk7XG5cbiAgICBjb25zdCBpbml0aWFsUmVzdWx0ID0gZm4oLi4uZ2V0Q3VycmVudFZhbHVlcygpKTtcblxuICAgIC8vIElmIHRoZSByZXN1bHQgaXMgYSBudW1iZXIsIHJldHVybiBhIHJlYWN0aXZlIG51bWJlciByZWZlcmVuY2VcbiAgICBpZiAodHlwZW9mIGluaXRpYWxSZXN1bHQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG51bWJlclJlZihpbml0aWFsUmVzdWx0KTtcblxuICAgICAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXN1bHQudmFsdWUgPSBmbiguLi5nZXRDdXJyZW50VmFsdWVzKCkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZsYXR0ZW4gYWxsIHJlYWN0aXZlIHJlZmVyZW5jZXMgZnJvbSB0aGUgYXJndW1lbnRzXG4gICAgICAgIGNvbnN0IGFsbFJlZnMgPSBmbGF0dGVuUmVmcyhhcmdzKTtcblxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gZWFjaCByZWFjdGl2ZSByZWZlcmVuY2UgdG8gdXBkYXRlIHRoZSByZXN1bHRcbiAgICAgICAgYWxsUmVmcy5mb3JFYWNoKHJlZiA9PiBhZmZlY3RlZChyZWYsIHVwZGF0ZVJlc3VsdCkpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRm9yIG5vbi1udW1iZXIgcmVzdWx0cyAodmVjdG9ycywgbWF0cmljZXMsIGV0Yy4pLCByZXR1cm4gdGhlIGNvbXB1dGVkIHJlc3VsdFxuICAgIC8vIFRoZSBjYWxsZXIgaXMgcmVzcG9uc2libGUgZm9yIGVuc3VyaW5nIHRoZSByZXN1bHQgaGFzIHRoZSByaWdodCByZWFjdGl2ZSBzdHJ1Y3R1cmVcbiAgICBsZXQgY3VycmVudFJlc3VsdCA9IGluaXRpYWxSZXN1bHQ7XG5cbiAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSAoKSA9PiB7XG4gICAgICAgIGN1cnJlbnRSZXN1bHQgPSBmbiguLi5nZXRDdXJyZW50VmFsdWVzKCkpO1xuICAgIH07XG5cbiAgICAvLyBGbGF0dGVuIGFsbCByZWFjdGl2ZSByZWZlcmVuY2VzIGZyb20gdGhlIGFyZ3VtZW50c1xuICAgIGNvbnN0IGFsbFJlZnMgPSBmbGF0dGVuUmVmcyhhcmdzKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byBlYWNoIHJlYWN0aXZlIHJlZmVyZW5jZSB0byB1cGRhdGUgdGhlIHJlc3VsdFxuICAgIGFsbFJlZnMuZm9yRWFjaChyZWYgPT4gYWZmZWN0ZWQocmVmLCB1cGRhdGVSZXN1bHQpKTtcblxuICAgIHJldHVybiBjdXJyZW50UmVzdWx0O1xufVxuXG5cblxuXG4vLyBTY2FsYXIgb3BlcmF0aW9ucyAoMUQpXG5leHBvcnQgY29uc3QgYWRkUmVmID0gKGE6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4sIGI6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4pID0+IHtcbiAgICByZXR1cm4gb3BlcmF0ZWQoW2EsIGJdLCAoKSA9PiBhLnZhbHVlICsgYi52YWx1ZSk7XG59XG5cbmV4cG9ydCBjb25zdCBzdWJ0cmFjdFJlZiA9IChhOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LCBiOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFthLCBiXSwgKCkgPT4gYS52YWx1ZSAtIGIudmFsdWUpO1xufVxuXG5leHBvcnQgY29uc3QgbXVsdGlwbHlSZWYgPSAoYTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiwgYjogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPikgPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChbYSwgYl0sICgpID0+IGEudmFsdWUgKiBiLnZhbHVlKTtcbn1cblxuZXhwb3J0IGNvbnN0IGRpdmlkZVJlZiA9IChhOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LCBiOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFthLCBiXSwgKCkgPT4gYS52YWx1ZSAvIGIudmFsdWUpO1xufVxuXG5leHBvcnQgY29uc3QgbW9kdWx1c1JlZiA9IChhOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LCBiOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFthLCBiXSwgKCkgPT4gYS52YWx1ZSAlIGIudmFsdWUpO1xufVxuXG5leHBvcnQgY29uc3QgcG93ZXJSZWYgPSAoYTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiwgYjogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPikgPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChbYSwgYl0sICgpID0+IE1hdGgucG93KGEudmFsdWUsIGIudmFsdWUpKTtcbn1cblxuLy8gVHJpZ29ub21ldHJpYyBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBzaW5SZWYgPSAoYTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPikgPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChhLCAoKSA9PiBNYXRoLnNpbihhLnZhbHVlKSk7XG59XG5cbmV4cG9ydCBjb25zdCBjb3NSZWYgPSAoYTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPikgPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChhLCAoKSA9PiBNYXRoLmNvcyhhLnZhbHVlKSk7XG59XG5cbmV4cG9ydCBjb25zdCB0YW5SZWYgPSAoYTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPikgPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChhLCAoKSA9PiBNYXRoLnRhbihhLnZhbHVlKSk7XG59XG5cbmV4cG9ydCBjb25zdCBhc2luUmVmID0gKGE6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4pID0+IHtcbiAgICByZXR1cm4gb3BlcmF0ZWQoYSwgKCkgPT4gTWF0aC5hc2luKGEudmFsdWUpKTtcbn1cblxuZXhwb3J0IGNvbnN0IGFjb3NSZWYgPSAoYTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPikgPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChhLCAoKSA9PiBNYXRoLmFjb3MoYS52YWx1ZSkpO1xufVxuXG5leHBvcnQgY29uc3QgYXRhblJlZiA9IChhOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKGEsICgpID0+IE1hdGguYXRhbihhLnZhbHVlKSk7XG59XG5cbmV4cG9ydCBjb25zdCBhdGFuMlJlZiA9IChhOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LCBiOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFthLCBiXSwgKCkgPT4gTWF0aC5hdGFuMihhLnZhbHVlLCBiLnZhbHVlKSk7XG59XG5cbmV4cG9ydCBjb25zdCBoeXBvdFJlZiA9IChhOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LCBiOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFthLCBiXSwgKCkgPT4gTWF0aC5oeXBvdChhLnZhbHVlLCBiLnZhbHVlKSk7XG59XG5cbi8vIE90aGVyIG1hdGggZnVuY3Rpb25zXG5leHBvcnQgY29uc3Qgc3F1YXJlUm9vdFJlZiA9IChhOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKGEsICgpID0+IE1hdGguc3FydChhLnZhbHVlKSk7XG59XG5cbmV4cG9ydCBjb25zdCBjdWJlUm9vdFJlZiA9IChhOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKGEsICgpID0+IE1hdGguY2JydChhLnZhbHVlKSk7XG59XG5cbmV4cG9ydCBjb25zdCBhYnNvbHV0ZVJlZiA9IChhOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKGEsICgpID0+IE1hdGguYWJzKGEudmFsdWUpKTtcbn1cblxuZXhwb3J0IGNvbnN0IHNpZ25SZWYgPSAoYTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPikgPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChhLCAoKSA9PiBNYXRoLnNpZ24oYS52YWx1ZSkpO1xufVxuXG5leHBvcnQgY29uc3QgY2xhbXBSZWYgPSAoYTogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiwgbWluOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+LCBtYXg6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4pID0+IHtcbiAgICByZXR1cm4gb3BlcmF0ZWQoW2EsIG1pbiwgbWF4XSwgKCkgPT4gTWF0aC5taW4oTWF0aC5tYXgoYS52YWx1ZSwgbWluLnZhbHVlKSwgbWF4LnZhbHVlKSk7XG59XG5cbi8vIFZlY3RvciBvcGVyYXRpb25zICgyRClcbmV4cG9ydCBjb25zdCBhZGRWZWN0b3IyRCA9IChhOiBWZWN0b3IyRCwgYjogVmVjdG9yMkQpID0+IHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKFxuICAgICAgICBvcGVyYXRlZChbYS54LCBiLnhdLCAoKSA9PiBhLngudmFsdWUgKyBiLngudmFsdWUpLFxuICAgICAgICBvcGVyYXRlZChbYS55LCBiLnldLCAoKSA9PiBhLnkudmFsdWUgKyBiLnkudmFsdWUpXG4gICAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IHN1YnRyYWN0VmVjdG9yMkQgPSAoYTogVmVjdG9yMkQsIGI6IFZlY3RvcjJEKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyRChcbiAgICAgICAgb3BlcmF0ZWQoW2EueCwgYi54XSwgKCkgPT4gYS54LnZhbHVlIC0gYi54LnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueSwgYi55XSwgKCkgPT4gYS55LnZhbHVlIC0gYi55LnZhbHVlKVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBtdWx0aXBseVZlY3RvcjJEID0gKGE6IFZlY3RvcjJELCBzY2FsYXI6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4pID0+IHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKFxuICAgICAgICBvcGVyYXRlZChbYS54LCBzY2FsYXJdLCAoKSA9PiBhLngudmFsdWUgKiBzY2FsYXIudmFsdWUpLFxuICAgICAgICBvcGVyYXRlZChbYS55LCBzY2FsYXJdLCAoKSA9PiBhLnkudmFsdWUgKiBzY2FsYXIudmFsdWUpXG4gICAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IGRpdmlkZVZlY3RvcjJEID0gKGE6IFZlY3RvcjJELCBzY2FsYXI6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4pID0+IHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKFxuICAgICAgICBvcGVyYXRlZChbYS54LCBzY2FsYXJdLCAoKSA9PiBhLngudmFsdWUgLyBzY2FsYXIudmFsdWUpLFxuICAgICAgICBvcGVyYXRlZChbYS55LCBzY2FsYXJdLCAoKSA9PiBhLnkudmFsdWUgLyBzY2FsYXIudmFsdWUpXG4gICAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IGRvdFByb2R1Y3QyRCA9IChhOiBWZWN0b3IyRCwgYjogVmVjdG9yMkQpID0+IHtcbiAgICByZXR1cm4gb3BlcmF0ZWQoW2EueCwgYS55LCBiLngsIGIueV0sICgpID0+IGEueC52YWx1ZSAqIGIueC52YWx1ZSArIGEueS52YWx1ZSAqIGIueS52YWx1ZSk7XG59XG5cbmV4cG9ydCBjb25zdCBtYWduaXR1ZGUyRCA9IChhOiBWZWN0b3IyRCkgPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChbYS54LCBhLnldLCAoKSA9PiBNYXRoLnNxcnQoYS54LnZhbHVlICogYS54LnZhbHVlICsgYS55LnZhbHVlICogYS55LnZhbHVlKSk7XG59XG5cbmV4cG9ydCBjb25zdCBub3JtYWxpemUyRCA9IChhOiBWZWN0b3IyRCkgPT4ge1xuICAgIGNvbnN0IG1hZyA9IG1hZ25pdHVkZTJEKGEpO1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQoXG4gICAgICAgIG9wZXJhdGVkKFthLngsIG1hZ10sICgpID0+IGEueC52YWx1ZSAvIG1hZy52YWx1ZSksXG4gICAgICAgIG9wZXJhdGVkKFthLnksIG1hZ10sICgpID0+IGEueS52YWx1ZSAvIG1hZy52YWx1ZSlcbiAgICApO1xufVxuXG4vLyBWZWN0b3Igb3BlcmF0aW9ucyAoM0QpXG5leHBvcnQgY29uc3QgYWRkVmVjdG9yM0QgPSAoYTogVmVjdG9yM0QsIGI6IFZlY3RvcjNEKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzRChcbiAgICAgICAgb3BlcmF0ZWQoW2EueCwgYi54XSwgKCkgPT4gYS54LnZhbHVlICsgYi54LnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueSwgYi55XSwgKCkgPT4gYS55LnZhbHVlICsgYi55LnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueiwgYi56XSwgKCkgPT4gYS56LnZhbHVlICsgYi56LnZhbHVlKVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBzdWJ0cmFjdFZlY3RvcjNEID0gKGE6IFZlY3RvcjNELCBiOiBWZWN0b3IzRCkgPT4ge1xuICAgIHJldHVybiBuZXcgVmVjdG9yM0QoXG4gICAgICAgIG9wZXJhdGVkKFthLngsIGIueF0sICgpID0+IGEueC52YWx1ZSAtIGIueC52YWx1ZSksXG4gICAgICAgIG9wZXJhdGVkKFthLnksIGIueV0sICgpID0+IGEueS52YWx1ZSAtIGIueS52YWx1ZSksXG4gICAgICAgIG9wZXJhdGVkKFthLnosIGIuel0sICgpID0+IGEuei52YWx1ZSAtIGIuei52YWx1ZSlcbiAgICApO1xufVxuXG5leHBvcnQgY29uc3QgbXVsdGlwbHlWZWN0b3IzRCA9IChhOiBWZWN0b3IzRCwgc2NhbGFyOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzRChcbiAgICAgICAgb3BlcmF0ZWQoW2EueCwgc2NhbGFyXSwgKCkgPT4gYS54LnZhbHVlICogc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueSwgc2NhbGFyXSwgKCkgPT4gYS55LnZhbHVlICogc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2Eueiwgc2NhbGFyXSwgKCkgPT4gYS56LnZhbHVlICogc2NhbGFyLnZhbHVlKVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBkaXZpZGVWZWN0b3IzRCA9IChhOiBWZWN0b3IzRCwgc2NhbGFyOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IzRChcbiAgICAgICAgb3BlcmF0ZWQoW2EueCwgc2NhbGFyXSwgKCkgPT4gYS54LnZhbHVlIC8gc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueSwgc2NhbGFyXSwgKCkgPT4gYS55LnZhbHVlIC8gc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2Eueiwgc2NhbGFyXSwgKCkgPT4gYS56LnZhbHVlIC8gc2NhbGFyLnZhbHVlKVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBkb3RQcm9kdWN0M0QgPSAoYTogVmVjdG9yM0QsIGI6IFZlY3RvcjNEKSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFthLngsIGEueSwgYS56LCBiLngsIGIueSwgYi56XSwgKCkgPT5cbiAgICAgICAgYS54LnZhbHVlICogYi54LnZhbHVlICsgYS55LnZhbHVlICogYi55LnZhbHVlICsgYS56LnZhbHVlICogYi56LnZhbHVlXG4gICAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyb3NzUHJvZHVjdDNEID0gKGE6IFZlY3RvcjNELCBiOiBWZWN0b3IzRCkgPT4ge1xuICAgIHJldHVybiBuZXcgVmVjdG9yM0QoXG4gICAgICAgIG9wZXJhdGVkKFthLnksIGEueiwgYi55LCBiLnpdLCAoKSA9PiBhLnkudmFsdWUgKiBiLnoudmFsdWUgLSBhLnoudmFsdWUgKiBiLnkudmFsdWUpLFxuICAgICAgICBvcGVyYXRlZChbYS56LCBhLngsIGIueiwgYi54XSwgKCkgPT4gYS56LnZhbHVlICogYi54LnZhbHVlIC0gYS54LnZhbHVlICogYi56LnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueCwgYS55LCBiLngsIGIueV0sICgpID0+IGEueC52YWx1ZSAqIGIueS52YWx1ZSAtIGEueS52YWx1ZSAqIGIueC52YWx1ZSlcbiAgICApO1xufVxuXG5leHBvcnQgY29uc3QgbWFnbml0dWRlM0QgPSAoYTogVmVjdG9yM0QpID0+IHtcbiAgICByZXR1cm4gb3BlcmF0ZWQoW2EueCwgYS55LCBhLnpdLCAoKSA9PlxuICAgICAgICBNYXRoLnNxcnQoYS54LnZhbHVlICogYS54LnZhbHVlICsgYS55LnZhbHVlICogYS55LnZhbHVlICsgYS56LnZhbHVlICogYS56LnZhbHVlKVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBub3JtYWxpemUzRCA9IChhOiBWZWN0b3IzRCkgPT4ge1xuICAgIGNvbnN0IG1hZyA9IG1hZ25pdHVkZTNEKGEpO1xuICAgIHJldHVybiBuZXcgVmVjdG9yM0QoXG4gICAgICAgIG9wZXJhdGVkKFthLngsIG1hZ10sICgpID0+IGEueC52YWx1ZSAvIG1hZy52YWx1ZSksXG4gICAgICAgIG9wZXJhdGVkKFthLnksIG1hZ10sICgpID0+IGEueS52YWx1ZSAvIG1hZy52YWx1ZSksXG4gICAgICAgIG9wZXJhdGVkKFthLnosIG1hZ10sICgpID0+IGEuei52YWx1ZSAvIG1hZy52YWx1ZSlcbiAgICApO1xufVxuXG4vLyBWZWN0b3Igb3BlcmF0aW9ucyAoNEQpXG5leHBvcnQgY29uc3QgYWRkVmVjdG9yNEQgPSAoYTogVmVjdG9yNEQsIGI6IFZlY3RvcjREKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0RChcbiAgICAgICAgb3BlcmF0ZWQoW2EueCwgYi54XSwgKCkgPT4gYS54LnZhbHVlICsgYi54LnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueSwgYi55XSwgKCkgPT4gYS55LnZhbHVlICsgYi55LnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueiwgYi56XSwgKCkgPT4gYS56LnZhbHVlICsgYi56LnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EudywgYi53XSwgKCkgPT4gYS53LnZhbHVlICsgYi53LnZhbHVlKVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBzdWJ0cmFjdFZlY3RvcjREID0gKGE6IFZlY3RvcjRELCBiOiBWZWN0b3I0RCkgPT4ge1xuICAgIHJldHVybiBuZXcgVmVjdG9yNEQoXG4gICAgICAgIG9wZXJhdGVkKFthLngsIGIueF0sICgpID0+IGEueC52YWx1ZSAtIGIueC52YWx1ZSksXG4gICAgICAgIG9wZXJhdGVkKFthLnksIGIueV0sICgpID0+IGEueS52YWx1ZSAtIGIueS52YWx1ZSksXG4gICAgICAgIG9wZXJhdGVkKFthLnosIGIuel0sICgpID0+IGEuei52YWx1ZSAtIGIuei52YWx1ZSksXG4gICAgICAgIG9wZXJhdGVkKFthLncsIGIud10sICgpID0+IGEudy52YWx1ZSAtIGIudy52YWx1ZSlcbiAgICApO1xufVxuXG5leHBvcnQgY29uc3QgbXVsdGlwbHlWZWN0b3I0RCA9IChhOiBWZWN0b3I0RCwgc2NhbGFyOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0RChcbiAgICAgICAgb3BlcmF0ZWQoW2EueCwgc2NhbGFyXSwgKCkgPT4gYS54LnZhbHVlICogc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueSwgc2NhbGFyXSwgKCkgPT4gYS55LnZhbHVlICogc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2Eueiwgc2NhbGFyXSwgKCkgPT4gYS56LnZhbHVlICogc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2Eudywgc2NhbGFyXSwgKCkgPT4gYS53LnZhbHVlICogc2NhbGFyLnZhbHVlKVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBkaXZpZGVWZWN0b3I0RCA9IChhOiBWZWN0b3I0RCwgc2NhbGFyOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3I0RChcbiAgICAgICAgb3BlcmF0ZWQoW2EueCwgc2NhbGFyXSwgKCkgPT4gYS54LnZhbHVlIC8gc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2EueSwgc2NhbGFyXSwgKCkgPT4gYS55LnZhbHVlIC8gc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2Eueiwgc2NhbGFyXSwgKCkgPT4gYS56LnZhbHVlIC8gc2NhbGFyLnZhbHVlKSxcbiAgICAgICAgb3BlcmF0ZWQoW2Eudywgc2NhbGFyXSwgKCkgPT4gYS53LnZhbHVlIC8gc2NhbGFyLnZhbHVlKVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBkb3RQcm9kdWN0NEQgPSAoYTogVmVjdG9yNEQsIGI6IFZlY3RvcjREKSA9PiB7XG4gICAgcmV0dXJuIG9wZXJhdGVkKFthLngsIGEueSwgYS56LCBhLncsIGIueCwgYi55LCBiLnosIGIud10sICgpID0+XG4gICAgICAgIGEueC52YWx1ZSAqIGIueC52YWx1ZSArIGEueS52YWx1ZSAqIGIueS52YWx1ZSArIGEuei52YWx1ZSAqIGIuei52YWx1ZSArIGEudy52YWx1ZSAqIGIudy52YWx1ZVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBtYWduaXR1ZGU0RCA9IChhOiBWZWN0b3I0RCkgPT4ge1xuICAgIHJldHVybiBvcGVyYXRlZChbYS54LCBhLnksIGEueiwgYS53XSwgKCkgPT5cbiAgICAgICAgTWF0aC5zcXJ0KGEueC52YWx1ZSAqIGEueC52YWx1ZSArIGEueS52YWx1ZSAqIGEueS52YWx1ZSArIGEuei52YWx1ZSAqIGEuei52YWx1ZSArIGEudy52YWx1ZSAqIGEudy52YWx1ZSlcbiAgICApO1xufVxuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplNEQgPSAoYTogVmVjdG9yNEQpID0+IHtcbiAgICBjb25zdCBtYWcgPSBtYWduaXR1ZGU0RChhKTtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjREKFxuICAgICAgICBvcGVyYXRlZChbYS54LCBtYWddLCAoKSA9PiBhLngudmFsdWUgLyBtYWcudmFsdWUpLFxuICAgICAgICBvcGVyYXRlZChbYS55LCBtYWddLCAoKSA9PiBhLnkudmFsdWUgLyBtYWcudmFsdWUpLFxuICAgICAgICBvcGVyYXRlZChbYS56LCBtYWddLCAoKSA9PiBhLnoudmFsdWUgLyBtYWcudmFsdWUpLFxuICAgICAgICBvcGVyYXRlZChbYS53LCBtYWddLCAoKSA9PiBhLncudmFsdWUgLyBtYWcudmFsdWUpXG4gICAgKTtcbn1cbiJdfQ==