import { numberRef } from "fest/object";
export class Vector3D {
    _x;
    _y;
    _z;
    constructor(x = 0, y = 0, z = 0) {
        this._x = typeof x === 'number' ? numberRef(x) : x;
        this._y = typeof y === 'number' ? numberRef(y) : y;
        this._z = typeof z === 'number' ? numberRef(z) : z;
    }
    get x() { return this._x; }
    set x(value) {
        if (typeof value === 'number') {
            this._x.value = value;
        }
        else {
            this._x = value;
        }
    }
    get y() { return this._y; }
    set y(value) {
        if (typeof value === 'number') {
            this._y.value = value;
        }
        else {
            this._y = value;
        }
    }
    get z() { return this._z; }
    set z(value) {
        if (typeof value === 'number') {
            this._z.value = value;
        }
        else {
            this._z = value;
        }
    }
    // Array-like access for compatibility
    get 0() { return this._x; }
    get 1() { return this._y; }
    get 2() { return this._z; }
    // Convert to plain array for operations
    toArray() {
        return [this._x, this._y, this._z];
    }
    // Clone the vector
    clone() {
        return new Vector3D(this._x.value, this._y.value, this._z.value);
    }
    // Set values
    set(x, y, z) {
        this._x.value = x;
        this._y.value = y;
        this._z.value = z;
        return this;
    }
    // Copy from another vector
    copy(v) {
        this._x.value = v.x.value;
        this._y.value = v.y.value;
        this._z.value = v.z.value;
        return this;
    }
}
export const vector3Ref = (x = 0, y = 0, z = 0) => {
    return new Vector3D(x, y, z);
};
export class Matrix3D {
    _elements;
    constructor(a = 1, b = 0, c = 0, d = 0, e = 1, f = 0, g = 0, h = 0, i = 1) {
        this._elements = [
            typeof a === 'number' ? numberRef(a) : a,
            typeof b === 'number' ? numberRef(b) : b,
            typeof c === 'number' ? numberRef(c) : c,
            typeof d === 'number' ? numberRef(d) : d,
            typeof e === 'number' ? numberRef(e) : e,
            typeof f === 'number' ? numberRef(f) : f,
            typeof g === 'number' ? numberRef(g) : g,
            typeof h === 'number' ? numberRef(h) : h,
            typeof i === 'number' ? numberRef(i) : i
        ];
    }
    get elements() { return this._elements; }
    // Matrix elements access
    get m00() { return this._elements[0]; }
    get m01() { return this._elements[1]; }
    get m02() { return this._elements[2]; }
    get m10() { return this._elements[3]; }
    get m11() { return this._elements[4]; }
    get m12() { return this._elements[5]; }
    get m20() { return this._elements[6]; }
    get m21() { return this._elements[7]; }
    get m22() { return this._elements[8]; }
    set m00(value) { if (typeof value === 'number')
        this._elements[0].value = value;
    else
        this._elements[0] = value; }
    set m01(value) { if (typeof value === 'number')
        this._elements[1].value = value;
    else
        this._elements[1] = value; }
    set m02(value) { if (typeof value === 'number')
        this._elements[2].value = value;
    else
        this._elements[2] = value; }
    set m10(value) { if (typeof value === 'number')
        this._elements[3].value = value;
    else
        this._elements[3] = value; }
    set m11(value) { if (typeof value === 'number')
        this._elements[4].value = value;
    else
        this._elements[4] = value; }
    set m12(value) { if (typeof value === 'number')
        this._elements[5].value = value;
    else
        this._elements[5] = value; }
    set m20(value) { if (typeof value === 'number')
        this._elements[6].value = value;
    else
        this._elements[6] = value; }
    set m21(value) { if (typeof value === 'number')
        this._elements[7].value = value;
    else
        this._elements[7] = value; }
    set m22(value) { if (typeof value === 'number')
        this._elements[8].value = value;
    else
        this._elements[8] = value; }
    // Array-like access for compatibility
    get 0() { return this._elements[0]; }
    get 1() { return this._elements[1]; }
    get 2() { return this._elements[2]; }
    get 3() { return this._elements[3]; }
    get 4() { return this._elements[4]; }
    get 5() { return this._elements[5]; }
    get 6() { return this._elements[6]; }
    get 7() { return this._elements[7]; }
    get 8() { return this._elements[8]; }
    // Convert to plain array for operations
    toArray() {
        return [...this._elements];
    }
    // Clone the matrix
    clone() {
        return new Matrix3D(this._elements[0].value, this._elements[1].value, this._elements[2].value, this._elements[3].value, this._elements[4].value, this._elements[5].value, this._elements[6].value, this._elements[7].value, this._elements[8].value);
    }
    // Set values
    set(a, b, c, d, e, f, g, h, i) {
        this._elements[0].value = a;
        this._elements[1].value = b;
        this._elements[2].value = c;
        this._elements[3].value = d;
        this._elements[4].value = e;
        this._elements[5].value = f;
        this._elements[6].value = g;
        this._elements[7].value = h;
        this._elements[8].value = i;
        return this;
    }
    // Identity matrix
    identity() {
        return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1);
    }
    // Copy from another matrix
    copy(m) {
        for (let i = 0; i < 9; i++) {
            this._elements[i].value = m.elements[i].value;
        }
        return this;
    }
}
export const matrix3x3Ref = (a = 1, b = 0, c = 0, d = 0, e = 1, f = 0, g = 0, h = 0, i = 1) => {
    return new Matrix3D(a, b, c, d, e, f, g, h, i);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUG9pbnQzRC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlBvaW50M0QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUV4QyxNQUFNLE9BQU8sUUFBUTtJQUNULEVBQUUsQ0FBK0I7SUFDakMsRUFBRSxDQUErQjtJQUNqQyxFQUFFLENBQStCO0lBRXpDLFlBQVksSUFBMkMsQ0FBQyxFQUFFLElBQTJDLENBQUMsRUFBRSxJQUEyQyxDQUFDO1FBQ2hKLElBQUksQ0FBQyxFQUFFLEdBQUcsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLEVBQUUsR0FBRyxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRCxJQUFJLENBQUMsS0FBSyxPQUFPLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNCLElBQUksQ0FBQyxDQUFDLEtBQTRDO1FBQzlDLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQzFCLENBQUM7YUFBTSxDQUFDO1lBQ0osSUFBSSxDQUFDLEVBQUUsR0FBRyxLQUFLLENBQUM7UUFDcEIsQ0FBQztJQUNMLENBQUM7SUFFRCxJQUFJLENBQUMsS0FBSyxPQUFPLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNCLElB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QUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDM0MsQ0FBQztJQUNOLENBQUM7SUFFRCxJQUFJLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBRXpDLHlCQUF5QjtJQUN6QixJQUFJLEdBQUcsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQUMsSUFBSSxHQUFHLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUFDLElBQUksR0FBRyxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkgsSUFBSSxHQUFHLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUFDLElBQUksR0FBRyxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFBQyxJQUFJLEdBQUcsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZILElBQUksR0FBRyxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFBQyxJQUFJLEdBQUcsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQUMsSUFBSSxHQUFHLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUV2SCxJQUFJLEdBQUcsQ0FBQyxLQUE0QyxJQUFJLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUTtRQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQzs7UUFBTSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDekosSUFBSSxHQUFHLENBQUMsS0FBNEMsSUFBSSxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7O1FBQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3pKLElBQUksR0FBRyxDQUFDLEtBQTRDLElBQUksSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDOztRQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN6SixJQUFJLEdBQUcsQ0FBQyxLQUE0QyxJQUFJLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUTtRQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQzs7UUFBTSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDekosSUFBSSxHQUFHLENBQUMsS0FBNEMsSUFBSSxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7O1FBQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3pKLElBQUksR0FBRyxDQUFDLEtBQTRDLElBQUksSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDOztRQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN6SixJQUFJLEdBQUcsQ0FBQyxLQUE0QyxJQUFJLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUTtRQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQzs7UUFBTSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDekosSUFBSSxHQUFHLENBQUMsS0FBNEMsSUFBSSxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7O1FBQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3pKLElBQUksR0FBRyxDQUFDLEtBQTRDLElBQUksSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDOztRQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUV6SixzQ0FBc0M7SUFDdEMsSUFBSSxDQUFDLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUFDLElBQUksQ0FBQyxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFBQyxJQUFJLENBQUMsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pILElBQUksQ0FBQyxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFBQyxJQUFJLENBQUMsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQUMsSUFBSSxDQUFDLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqSCxJQUFJLENBQUMsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQUMsSUFBSSxDQUFDLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUFDLElBQUksQ0FBQyxLQUFLLE9BQU8sSUFB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RUFBRSxJQUEyQyxDQUFDLEVBQ3hJLElBQTJDLENBQUMsRUFBRSxJQUEyQyxDQUFDLEVBQUUsSUFBMkMsQ0FBQyxFQUMxSSxFQUFFO0lBQ0EsT0FBTyxJQUFJLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ25ELENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgbnVtYmVyUmVmIH0gZnJvbSBcImZlc3Qvb2JqZWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3IzRCB7XG4gICAgcHJpdmF0ZSBfeDogUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPjtcbiAgICBwcml2YXRlIF95OiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+O1xuICAgIHByaXZhdGUgX3o6IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj47XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMCwgeTogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9IDAsIHo6IG51bWJlciB8IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPSAwKSB7XG4gICAgICAgIHRoaXMuX3ggPSB0eXBlb2YgeCA9PT0gJ251bWJlcicgPyBudW1iZXJSZWYoeCkgOiB4O1xuICAgICAgICB0aGlzLl95ID0gdHlwZW9mIHkgPT09ICdudW1iZXInID8gbnVtYmVyUmVmKHkpIDogeTtcbiAgICAgICAgdGhpcy5feiA9IHR5cGVvZiB6ID09PSAnbnVtYmVyJyA/IG51bWJlclJlZih6KSA6IHo7XG4gICAgfVxuXG4gICAgZ2V0IHgoKSB7IHJldHVybiB0aGlzLl94OyB9XG4gICAgc2V0IHgodmFsdWU6IG51bWJlciB8IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX3gudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCB5KCkgeyByZXR1cm4gdGhpcy5feTsgfVxuICAgIHNldCB5KHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl95LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl95ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgeigpIHsgcmV0dXJuIHRoaXMuX3o7IH1cbiAgICBzZXQgeih2YWx1ZTogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPikge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5fei52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5feiA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQXJyYXktbGlrZSBhY2Nlc3MgZm9yIGNvbXBhdGliaWxpdHlcbiAgICBnZXQgMCgpIHsgcmV0dXJuIHRoaXMuX3g7IH1cbiAgICBnZXQgMSgpIHsgcmV0dXJuIHRoaXMuX3k7IH1cbiAgICBnZXQgMigpIHsgcmV0dXJuIHRoaXMuX3o7IH1cblxuICAgIC8vIENvbnZlcnQgdG8gcGxhaW4gYXJyYXkgZm9yIG9wZXJhdGlvbnNcbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3pdO1xuICAgIH1cblxuICAgIC8vIENsb25lIHRoZSB2ZWN0b3JcbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzRCh0aGlzLl94LnZhbHVlLCB0aGlzLl95LnZhbHVlLCB0aGlzLl96LnZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdmFsdWVzXG4gICAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5feC52YWx1ZSA9IHg7XG4gICAgICAgIHRoaXMuX3kudmFsdWUgPSB5O1xuICAgICAgICB0aGlzLl96LnZhbHVlID0gejtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQ29weSBmcm9tIGFub3RoZXIgdmVjdG9yXG4gICAgY29weSh2OiBWZWN0b3IzRCkge1xuICAgICAgICB0aGlzLl94LnZhbHVlID0gdi54LnZhbHVlO1xuICAgICAgICB0aGlzLl95LnZhbHVlID0gdi55LnZhbHVlO1xuICAgICAgICB0aGlzLl96LnZhbHVlID0gdi56LnZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCB2ZWN0b3IzUmVmID0gKHg6IG51bWJlciB8IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPSAwLCB5OiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMCwgejogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9IDApID0+IHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjNEKHgsIHksIHopO1xufVxuXG5leHBvcnQgY2xhc3MgTWF0cml4M0Qge1xuICAgIHByaXZhdGUgX2VsZW1lbnRzOiBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+W107XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYTogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9IDEsIGI6IG51bWJlciB8IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPSAwLCBjOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMCxcbiAgICAgICAgZDogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9IDAsIGU6IG51bWJlciB8IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPSAxLCBmOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMCxcbiAgICAgICAgZzogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9IDAsIGg6IG51bWJlciB8IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPSAwLCBpOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMVxuICAgICkge1xuICAgICAgICB0aGlzLl9lbGVtZW50cyA9IFtcbiAgICAgICAgICAgIHR5cGVvZiBhID09PSAnbnVtYmVyJyA/IG51bWJlclJlZihhKSA6IGEsXG4gICAgICAgICAgICB0eXBlb2YgYiA9PT0gJ251bWJlcicgPyBudW1iZXJSZWYoYikgOiBiLFxuICAgICAgICAgICAgdHlwZW9mIGMgPT09ICdudW1iZXInID8gbnVtYmVyUmVmKGMpIDogYyxcbiAgICAgICAgICAgIHR5cGVvZiBkID09PSAnbnVtYmVyJyA/IG51bWJlclJlZihkKSA6IGQsXG4gICAgICAgICAgICB0eXBlb2YgZSA9PT0gJ251bWJlcicgPyBudW1iZXJSZWYoZSkgOiBlLFxuICAgICAgICAgICAgdHlwZW9mIGYgPT09ICdudW1iZXInID8gbnVtYmVyUmVmKGYpIDogZixcbiAgICAgICAgICAgIHR5cGVvZiBnID09PSAnbnVtYmVyJyA/IG51bWJlclJlZihnKSA6IGcsXG4gICAgICAgICAgICB0eXBlb2YgaCA9PT0gJ251bWJlcicgPyBudW1iZXJSZWYoaCkgOiBoLFxuICAgICAgICAgICAgdHlwZW9mIGkgPT09ICdudW1iZXInID8gbnVtYmVyUmVmKGkpIDogaVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBlbGVtZW50cygpIHsgcmV0dXJuIHRoaXMuX2VsZW1lbnRzOyB9XG5cbiAgICAvLyBNYXRyaXggZWxlbWVudHMgYWNjZXNzXG4gICAgZ2V0IG0wMCgpIHsgcmV0dXJuIHRoaXMuX2VsZW1lbnRzWzBdOyB9IGdldCBtMDEoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50c1sxXTsgfSBnZXQgbTAyKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudHNbMl07IH1cbiAgICBnZXQgbTEwKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudHNbM107IH0gZ2V0IG0xMSgpIHsgcmV0dXJuIHRoaXMuX2VsZW1lbnRzWzRdOyB9IGdldCBtMTIoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50c1s1XTsgfVxuICAgIGdldCBtMjAoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50c1s2XTsgfSBnZXQgbTIxKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudHNbN107IH0gZ2V0IG0yMigpIHsgcmV0dXJuIHRoaXMuX2VsZW1lbnRzWzhdOyB9XG5cbiAgICBzZXQgbTAwKHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7IGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB0aGlzLl9lbGVtZW50c1swXS52YWx1ZSA9IHZhbHVlOyBlbHNlIHRoaXMuX2VsZW1lbnRzWzBdID0gdmFsdWU7IH1cbiAgICBzZXQgbTAxKHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7IGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB0aGlzLl9lbGVtZW50c1sxXS52YWx1ZSA9IHZhbHVlOyBlbHNlIHRoaXMuX2VsZW1lbnRzWzFdID0gdmFsdWU7IH1cbiAgICBzZXQgbTAyKHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7IGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB0aGlzLl9lbGVtZW50c1syXS52YWx1ZSA9IHZhbHVlOyBlbHNlIHRoaXMuX2VsZW1lbnRzWzJdID0gdmFsdWU7IH1cbiAgICBzZXQgbTEwKHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7IGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB0aGlzLl9lbGVtZW50c1szXS52YWx1ZSA9IHZhbHVlOyBlbHNlIHRoaXMuX2VsZW1lbnRzWzNdID0gdmFsdWU7IH1cbiAgICBzZXQgbTExKHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7IGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB0aGlzLl9lbGVtZW50c1s0XS52YWx1ZSA9IHZhbHVlOyBlbHNlIHRoaXMuX2VsZW1lbnRzWzRdID0gdmFsdWU7IH1cbiAgICBzZXQgbTEyKHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7IGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB0aGlzLl9lbGVtZW50c1s1XS52YWx1ZSA9IHZhbHVlOyBlbHNlIHRoaXMuX2VsZW1lbnRzWzVdID0gdmFsdWU7IH1cbiAgICBzZXQgbTIwKHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7IGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB0aGlzLl9lbGVtZW50c1s2XS52YWx1ZSA9IHZhbHVlOyBlbHNlIHRoaXMuX2VsZW1lbnRzWzZdID0gdmFsdWU7IH1cbiAgICBzZXQgbTIxKHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7IGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB0aGlzLl9lbGVtZW50c1s3XS52YWx1ZSA9IHZhbHVlOyBlbHNlIHRoaXMuX2VsZW1lbnRzWzddID0gdmFsdWU7IH1cbiAgICBzZXQgbTIyKHZhbHVlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+KSB7IGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB0aGlzLl9lbGVtZW50c1s4XS52YWx1ZSA9IHZhbHVlOyBlbHNlIHRoaXMuX2VsZW1lbnRzWzhdID0gdmFsdWU7IH1cblxuICAgIC8vIEFycmF5LWxpa2UgYWNjZXNzIGZvciBjb21wYXRpYmlsaXR5XG4gICAgZ2V0IDAoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50c1swXTsgfSBnZXQgMSgpIHsgcmV0dXJuIHRoaXMuX2VsZW1lbnRzWzFdOyB9IGdldCAyKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudHNbMl07IH1cbiAgICBnZXQgMygpIHsgcmV0dXJuIHRoaXMuX2VsZW1lbnRzWzNdOyB9IGdldCA0KCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudHNbNF07IH0gZ2V0IDUoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50c1s1XTsgfVxuICAgIGdldCA2KCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudHNbNl07IH0gZ2V0IDcoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50c1s3XTsgfSBnZXQgOCgpIHsgcmV0dXJuIHRoaXMuX2VsZW1lbnRzWzhdOyB9XG5cbiAgICAvLyBDb252ZXJ0IHRvIHBsYWluIGFycmF5IGZvciBvcGVyYXRpb25zXG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLl9lbGVtZW50c107XG4gICAgfVxuXG4gICAgLy8gQ2xvbmUgdGhlIG1hdHJpeFxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDNEKFxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHNbMF0udmFsdWUsIHRoaXMuX2VsZW1lbnRzWzFdLnZhbHVlLCB0aGlzLl9lbGVtZW50c1syXS52YWx1ZSxcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzWzNdLnZhbHVlLCB0aGlzLl9lbGVtZW50c1s0XS52YWx1ZSwgdGhpcy5fZWxlbWVudHNbNV0udmFsdWUsXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50c1s2XS52YWx1ZSwgdGhpcy5fZWxlbWVudHNbN10udmFsdWUsIHRoaXMuX2VsZW1lbnRzWzhdLnZhbHVlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHZhbHVlc1xuICAgIHNldChhOiBudW1iZXIsIGI6IG51bWJlciwgYzogbnVtYmVyLCBkOiBudW1iZXIsIGU6IG51bWJlciwgZjogbnVtYmVyLCBnOiBudW1iZXIsIGg6IG51bWJlciwgaTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzWzBdLnZhbHVlID0gYTsgdGhpcy5fZWxlbWVudHNbMV0udmFsdWUgPSBiOyB0aGlzLl9lbGVtZW50c1syXS52YWx1ZSA9IGM7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzWzNdLnZhbHVlID0gZDsgdGhpcy5fZWxlbWVudHNbNF0udmFsdWUgPSBlOyB0aGlzLl9lbGVtZW50c1s1XS52YWx1ZSA9IGY7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzWzZdLnZhbHVlID0gZzsgdGhpcy5fZWxlbWVudHNbN10udmFsdWUgPSBoOyB0aGlzLl9lbGVtZW50c1s4XS52YWx1ZSA9IGk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIElkZW50aXR5IG1hdHJpeFxuICAgIGlkZW50aXR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQoMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMSk7XG4gICAgfVxuXG4gICAgLy8gQ29weSBmcm9tIGFub3RoZXIgbWF0cml4XG4gICAgY29weShtOiBNYXRyaXgzRCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDk7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHNbaV0udmFsdWUgPSBtLmVsZW1lbnRzW2ldLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IG1hdHJpeDN4M1JlZiA9IChcbiAgICBhOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMSwgYjogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9IDAsIGM6IG51bWJlciB8IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPSAwLFxuICAgIGQ6IG51bWJlciB8IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPSAwLCBlOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMSwgZjogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9IDAsXG4gICAgZzogbnVtYmVyIHwgUmV0dXJuVHlwZTx0eXBlb2YgbnVtYmVyUmVmPiA9IDAsIGg6IG51bWJlciB8IFJldHVyblR5cGU8dHlwZW9mIG51bWJlclJlZj4gPSAwLCBpOiBudW1iZXIgfCBSZXR1cm5UeXBlPHR5cGVvZiBudW1iZXJSZWY+ID0gMVxuKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBNYXRyaXgzRChhLCBiLCBjLCBkLCBlLCBmLCBnLCBoLCBpKTtcbn0iXX0=